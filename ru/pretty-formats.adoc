СТРУКТУРИРОВАННЫЕ ФОРМАТЫ
-------------------------

Если коммит является слиянием, и структурированный формат отличен от 'oneline', 'email' или 'raw', то перед строкой «Author:» добавляется дополнительная строка «Merge:», содержащая хеши родительских коммитов, разделённые пробелами. Обратите внимание, что если вы ограничили то, какая часть истории отображается: например, если вы заинтересованы только в изменениях, связанных с определенным каталогом или файлом, то перечисленные коммиты не обязательно должны быть *прямыми* родительскими коммитами.

Есть несколько встроенных форматов, и вы также можете определить дополнительные форматы, задав в переменной конфигурации вида `pretty.<name>` либо имя другого формата, либо строку вида «format:», как описано ниже (см. linkgit:git-config[1]). Встроенные форматы выглядят следующим образом:

* 'oneline'

	  <хеш> <строка-заголовка>
+
Этот формат задуман так, чтобы он был настолько компактным, насколько это возможно.

* 'short'

	  commit <хеш>
	  Author: <автор>

	      <строка-заголовка>

* 'medium'

	  commit <хеш>
	  Author: <автор>
	  Date:   <дата-создания>

	      <строка-заголовка>

	      <полное-сообщение-коммита>

* 'full'

	  commit <хеш>
	  Author: <автор>
	  Commit: <коммиттер>

	      <строка-заголовка>

	      <полное-сообщение-коммита>

* 'fuller'

	  commit <хеш>
	  Author:     <автор>
	  AuthorDate: <дата-создания>
	  Commit:     <коммиттер>
	  CommitDate: <дата-коммита>

	       <строка-заголовка>

	       <полное-сообщение-коммита>

* 'reference'

	  <краткий-хеш> (<строка-заголовка>, <короткая-дата-создания>)
+
Этот формат используется для ссылки на другие коммиты в сообщении коммита и совпадает с `--pretty='format:%C(auto)%h (%s, %ad)'`. По умолчанию дата форматируется с помощью `--date=short`, если другой параметр `--date` не указан явно. Как и в случае со всеми `format:`, содержащими метки-заполнители формата, на его вывод не влияют другие параметры, такие как `--decorate` и `--walk-reflogs`.

* 'email'

	  From <хеш> <дата>
	  From: <автор>
	  Date: <дата-создания>
	  Subject: [PATCH] <строка-заголовка>

	  <полное-сообщение-коммита>

* 'mboxrd'
+
Аналогичен 'email', но строки в сообщении коммита, начинающиеся с «From » (перед которыми стоит ноль или более «>»), экранируются с помощью «>», чтобы их нельзя было перепутать с началом нового коммита.

* 'raw'
+
Формат 'raw' показывает весь коммит точно так, как он хранится в объекте коммита. В частности, хеши отображаются полностью, независимо от того, используются ли параметр --abbrev или --no-abbrev, а в 'parents' перечислены настоящие родительские коммиты, без учёта сращиваний или упрощения истории. Обратите внимание, что этот формат влияет только на внешний вид отображения коммитов, но не на то, как отображается список изменений, например, с помощью `git log --raw`. Чтобы получить полные имена объектов в сыром формате списка изменений, используйте `--no-abbrev`.

* 'format:<строка-формата>'
+
Формат 'format:<строка-фомата>' позволяет указать, какую информацию вы хотите отобразить. Он несколько напоминает формат, используемый printf, с тем различием, что для получения новой строки нужно использовать '%n' вместо '\n'.
+
Например, 'format:"Автором %h был %an, %ar%nЗаголовок >>%s<<%n"' выведет что-то вроде:
+
-------
Автором fe6e0ee был Junio C Hamano, 23 hours ago
Заголовок >>t4119: проверка автовычисления -p<n> для традиционного вывода diff.<<

-------
+
Возможные метки-заполнители включают:

- Метки-заполнители, которые раскрываются в один конкретный символ:
'%n':: перенос строки
'%%':: обычный символ процента «%»
'%x00':: «%x», за которым следуют две шестнадцатеричные цифры, заменяется байтом со значением шестнадцатеричных цифр (в оставшейся части этого документа подобная конструкция будет называться «литерал, представленный в виде кода форматирования»).

- Метки-заполнители, которые влияют на форматирование последующих меток-заполнителей:
'%Cred':: переключить цвет на красный
'%Cgreen':: переключить цвет на зелёный
'%Cblue':: переключить цвет на синий
'%Creset':: сбросить цвет на стандартный
'%C(...)':: спецификация цвета, как описано в разделе «ФАЙЛ КОНФИГУРАЦИИ» в linkgit:git-config[1]. По умолчанию цвета отображаются только тогда, когда они включены для вывода журнала (с помощью `color.diff`, `color.ui` или `--color` и с учётом значения `auto` для первого, если вывод производится на терминал). Исторически, `%C(auto,...)` принимается как синоним для значения по умолчанию (например, `%C(auto,red)`). Указание `%C(always,...)` покажет цвета, даже если цвет не включён за счёт прочих значений (хотя подумайте о том, не стоит ли просто использовать `--color=always` для того, чтобы включить цвет для всего вывода, включая как этот формат, так и всё остальное, что git выводиться в цвете). `auto` сам по себе (т.е. `%C(auto)`) включит автоматическую раскраску для последующих меток-заполнителей до тех пор, пока цвет не будет переключён снова.
'%m':: отметка, является ли коммит достижимым слева (`<`), справа (`>`) или является ли он граничным (`-`)
'%w([<w>[,<i1>[,<i2>]]])':: Включить/выключить перенос строк аналогично параметру -w команды linkgit:git-shortlog[1].
'%<( <N> [,trunc|ltrunc|mtrunc])':: сделать так, чтобы следующая метка-заполнитель занимала не менее N символов, добавляя пробелы справа по необходимости. Также при необходимости, если вывод длиннее N символов, строка также может быть усечена (с помощью двух точек «..») слева (ltrunc) `..во`, посередине (mtrunc) `се..на` или справа (trunc) `пра..`. Примечание 1: усечение строки корректно работает только при N >= 2. Примечание 2: пробелы вокруг значений N и M (см. ниже) необязательны. Примечание 3: эмодзи и другие широкие символы занимают место двух символов, так что это может привести к выходу за границы столбцов. Примечание 4: знаки объединения символов в декомпозиционной форме, находящиеся на границе области добавленных символов могут оказаться не на своём месте.
'%<|( <M> )':: сделать так, чтобы следующая метка-заполнитель занимала место как минимум до столбца M, добавляя пробелы справа по необходимости. Отрицательные значения M используются для отсчёта столбца от правого края окна терминала.
'%>( <N> )', '%>|( <M> )':: аналогично '%<( <N> )' и '%<|( <M> )' соответственно, но добавляют пробелы слева
'%>>( <N> )', '%>>|( <M> )':: аналогично '%<( <N> )' и '%<|( <M> )' соответственно, но если следующая метка-заполнитель занимает больше места, чем задано, и слева от неё есть пробелы, использовать эти пробелы
'%><( <N> )', '%><|( <M> )':: аналогично '%<( <N> )' и '%<|( <M> )' соответственно, но добавляют пробелы c обеих сторон (т.е. центрировать текст)

- Метки-заполнители, которые раскрываются в информацию, извлекаемую из коммита:
'%H':: хеш коммита
'%h':: сокращённый хеш коммита
'%T':: хеш объекта дерева каталогов
'%t':: сокращённый хеш объекта дерева каталогов
'%P':: хеши родителей
'%p':: сокращённые хеши родителей
'%an':: имя автора
'%aN':: имя автора (с учётом .mailmap, см. linkgit:git-shortlog[1] или linkgit:git-blame[1])
'%ae':: email автора
'%aE':: email автора (с учётом .mailmap, см. linkgit:git-shortlog[1] или linkgit:git-blame[1])
'%al':: имя пользователя email автора (часть до символа собаки «@»)
'%aL':: имя пользователя (см. «%al») email автора с учётом .mailmap, см. linkgit:git-shortlog[1] или linkgit:git-blame[1]
'%ad':: дата создания (формат соответствует параметру --date=)
'%aD':: дата создания в формате RFC2822
'%ar':: дата создания, относительная
'%at':: дата создания, время UNIX
'%ai':: дата создания в формате подобном ISO 8601
'%aI':: дата создания в формате ISO 8601 (строго)
'%as':: дата создания, короткий формат (`ГГГГ-ММ-ДД`)
'%ah':: дата создания, в человеческом виде (как при указании параметра `--date=human` linkgit:git-rev-list[1])
'%cn':: имя коммитера
'%cN':: имя коммитера (с учётом .mailmap, см. linkgit:git-shortlog[1] или linkgit:git-blame[1])
'%ce':: email коммитера
'%cE':: email коммитера (с учётом .mailmap, см. linkgit:git-shortlog[1] или linkgit:git-blame[1])
'%cl':: имя пользователя email коммитера (часть до символа собаки «@»)
'%cL':: имя пользователя (см. «%al») email коммитера с учётом .mailmap, см. linkgit:git-shortlog[1] или linkgit:git-blame[1]
'%cd':: дата коммита (формат соответствует параметру --date=)
'%cD':: дата коммита в формате RFC2822
'%cr':: дата коммита, относительная
'%ct':: дата коммита, время UNIX
'%ci':: дата коммита в формате подобном ISO 8601
'%cI':: дата коммита в формате ISO 8601 (строго)
'%cs':: дата коммита, короткий формат (`ГГГГ-ММ-ДД`)
'%ch':: дата коммита, в человеческом виде (как при указании параметра `--date=human` linkgit:git-rev-list[1])
'%d':: имена ссылок, как параметр --decorate команды linkgit:git-log[1]
'%D':: имена ссылок, без скобок «(» и «)».
'%(decorate[:<параметры>])'::
имена ссылок с настраиваемыми декораторами. За строкой `decorate` может следовать двоеточие и ноль или более параметров, разделённых запятыми. Значения параметров могут содержать литералы, представленные в виде кода форматирования. Они должны, в частности, использоваться для запятых (`%x2C`) и закрывающих круглых скобок (`%x29`) из-за того, что они имеют собственную роль в синтаксисе списка параметров.
+
** 'prefix=<значение>': Отображается перед списком имён ссылок. По умолчанию: «{nbsp}`(`» (nbsp — неразрывный пробел).
** 'suffix=<значение>': Отображается после списка имён ссылок. По умолчанию: «`)`».
** 'separator=<значение>': Отображается между именами ссылок. По умолчанию: «`,`{nbsp}».
** 'pointer=<значение>': Отображается между HEAD и веткой, на которую он указывает (если таковая есть).
		      По умолчанию: «{nbsp}`->`{nbsp}».
** 'tag=<значение>': Отображается перед именами тегов. По умолчанию «`tag:`{nbsp}».

+
Например, для создания декоратора, не завёрнутого ни в какие скобки, без аннотации меток и с пробелами в качестве разделителей:
+
`%(decorate:prefix=,suffix=,tag=,separator= )`

'%(describe[:<параметры>])'::
имя, предназначенное для чтения человеком, как в linkgit:git-describe[1]; пустая строка для коммитов, для которых невозможно создать описание. После `describe` может идти двоеточие и ноль или более параметров, разделённых запятыми. Описания могут быть непоследовательными, когда одновременно с этим добавляются или удаляются метки.
+
** 'tags[=<логическое-значение>]': Вместо того, чтобы рассматривать только аннотированные метки, рассматривать также и облегчённые.
** 'abbrev=<число>': вместо стандартного количества шестнадцатеричных цифр для укороченного имени объекта (которое варьируется в зависимости от количества объектов в репозитории; по умолчанию: 7), использовать указанное <число> цифр или столько цифр, сколько необходимо для того, чтобы имя объекта было уникальным.
** 'match=<шаблон>': Принимать во внимание только метки, соответствующие заданному шаблону `glob(7)`, не включая префикс «refs/tags/».
** 'exclude=<шаблон>': Не принимать во внимание метки, соответствующие заданному шаблону `glob(7)`, не включая префикс «refs/tags/».

'%S':: имя ссылки, указанное в командной строке, по которой был достигнут коммит (как в `git log --source`), работает только с `git log`
'%e':: кодировка
'%s':: заголовок коммита
'%f':: очищенный заголовок коммита, подходящий для использования в качестве имени файла
'%b':: тело
'%B':: сырое тело (без дополнительных переносов строк в заголовке коммита и его теле)
ifndef::git-rev-list[]
'%N':: заметки к коммиту
endif::git-rev-list[]
'%GG':: сырое сообщение проверки GPG-подписи для подписанного коммита
'%G?':: выводит «G» для хорошей (действительной) подписи, «B» для плохой подписи, «U» для хорошей подписи, но действительность ключа которой невозможно проверить, «X» для хорошей подписи с истёкшим сроком действия, «Y» для хорошей подписи, сделанной ключом с истёкшим сроком действия, «R» для хорошей подписи, сделанной отозванным ключом, «E», если подпись не может быть проверена (например если отсутствует ключ), и «N», если подписи нет
'%GS':: выводит имя подписавшего для подписанного коммита
'%GK':: выводит ключ, используемый для подписи подписанного коммита
'%GF':: выводит отпечаток ключа, использованного для подписи подписанного коммита
'%GP':: выводит отпечаток первичного ключа, чей подключ использовался для подписи подписанного коммита
'%GT':: выводит уровень доверия для ключа, используемого для подписи подписанного коммита
'%gD':: селектор журнала ссылок (`reflog`), например, `refs/stash@{1}` или `refs/stash@{2 minutes ago}`; формат такой же, как тот, что описан для параметра `-g`. Часть перед `@` — это имя ссылки, как указано в командной строке (поэтому `git log -g refs/heads/master` выдаст `refs/heads/master@{0}`).
'%gd':: сокращённый селектор журнала ссылок; то же, что и `%gD`, но та часть, которая является именем ссылки, сокращена для удобства чтения (поэтому `refs/heads/master` становится просто `master`).
'%gn':: имя, записанное в журнале ссылок
'%gN':: имя, записанное в журнале ссылок (с учётом .mailmap, см. linkgit:git-shortlog[1] или linkgit:git-blame[1])
'%ge':: email, записанный в журнале ссылок
'%gE':: email, записанный в журнале ссылок (с учётом .mailmap, см. linkgit:git-shortlog[1] или linkgit:git-blame[1])
'%gs':: заголовок записи журнала ссылок
'%(trailers[:<параметры>])'::
выводит завершители тела коммита, которые интерпретируются linkgit:git-interpret-trailers[1]. После строки `trailers` может идти двоеточие и ноль или более параметров, разделёнными запятыми. Если какой-либо параметр указан несколько раз, используется его последнее вхождение.
+
** 'key=<ключ>': выводить только завершители с указанным <ключём>. Сопоставление выполняется без учёта регистра, а завершающее двоеточие необязательно. Если параметр указан несколько раз, то отображаются строки завершителей, соответствующие любому из ключей. Этот параметр автоматически включает параметр `only`, так что те строки, которые сами не являются завершителями, но находятся в блоке завершителей, будут скрыты. Если это нежелательно, то это можно отключить с помощью `only=false`. Например, `%(trailers:key=Reviewed-by)` покажет завершители с ключом `Reviewed-by`.
** 'only[=<логическое-значение>]': следует ли включать строки, которые находятся в блоке завершителей, но сами не являются завершителями.
** 'separator=<разделитель>': разделитель, вставляемый между строками завершителей. По умолчанию используется символ перевода строки. Строка <разделитель> может содержать литералы, представленные в виде кода форматирования. Чтобы использовать запятую в качестве разделителя, необходимо использовать `%x2C`, так как в противном случае она будет интерпретирована как следующий параметр. Например, `%(trailers:key=Ticket,separator=%x2C )` показывает все завершители с ключом «Ticket», разделённые запятой и пробелом.
** 'unfold[=<логическое-значение>]': вести себя так, как если бы была задан параметр `--unfold` команды git interpret-trailer. Например, `%(trailers:only,unfold=true)` разворачивает и показывает все строки завершителей.
** 'keyonly[=<логическое-значение>]': выводить только ключи завершителей.
** 'valueonly[=<логическое-значение>]': выводить только значения завершителей.
** 'key_value_separator=<разделитель>': задать разделитель, вставляемый между ключом и значением завершителей. По умолчанию используется «: ». Его семантика аналогична 'separator=<разделитель>' выше.

NOTE: Некоторые метки-заполнители могут зависеть от других параметров, переданных движку обхода ревизий. Например, вместо параметров `%g*`, связанных с журналов ссылок (`reflog`) будет подставляться пустая строка, если обход записей журнала ссылок (например, с помощью `git log -g`) не производится. Метки-заполнители `%d` и `%D` будут использовать краткий формат («short»), если `--decorate` не был задан в командной строке.

Булевы параметры принимают необязательный аргумент `[=<логическое-значение>]`. В качестве этих значений принимаются любые значения, принимаемые `--type=bool` команды git-config[1], такие как `yes` или `off`. Указание булева параметра без `=<значения>` эквивалентно тому, как если бы он был задан с `=true`.

Если вы добавите `+` (знак плюса) после `%` в метке-заполнителе и если (и только если) она будет заменена на непустую строку, то непосредственно перед ней будет добавлен перевод строки.

Если вы добавите `-` (знак минуса) после `%` в метке-заполнителе и если (и только если) она будет заменена на непустую строку, то все непосредственно предшествующие ей переводы строк будут удалены.

Если вы добавите ` ` (пробел) после `%` в метке-заполнителе и если (и только если) она будет заменена на непустую строку, то непосредственно перед ней будет добавлен пробел.

* 'tformat:'
+
Формат 'tformat:' аналогичен 'format:', за исключением того, что он предоставляет семантику «терминатора» вместо семантики «разделителя». Другими словами, к каждому коммиту добавляется символ терминатора сообщения (обычно новая строка), а не разделитель, добавляемый между записями. Это означает, что последняя запись однострочного формата будет корректно завершена новой строкой также, как это сделано в формате «oneline». Например:
+
---------------------
$ git log -2 --pretty=format:%h 4da45bef \
  | perl -pe '$_ .= " -- НЕТ СИМВОЛА ПЕРЕВОДА СТРОКИ\n" unless /\n/'
4da45be
7134973 -- НЕТ СИМВОЛА ПЕРЕВОДА СТРОКИ

$ git log -2 --pretty=tformat:%h 4da45bef \
  | perl -pe '$_ .= " -- НЕТ СИМВОЛА ПЕРЕВОДА СТРОКИ\n" unless /\n/'
4da45be
7134973
---------------------
+
Кроме того, любая нераспознанная строка, содержащая `%`, интерпретируется так, как если бы перед ней стояла строка `tformat:`. Например, следующие два примера эквивалентны:
+
---------------------
$ git log -2 --pretty=tformat:%h 4da45bef
$ git log -2 --pretty=%h 4da45bef
---------------------
