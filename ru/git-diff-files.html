<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="generator" content="Asciidoctor 2.0.23"/>
<title>git-diff-files(1)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"/>
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="manpage">
<div id="header">
<h1>git-diff-files(1) Manual Page</h1>
<h2 id="_название">НАЗВАНИЕ</h2>
<div class="sectionbody">
<p>git-diff-files - Сравнить файлы в рабочем каталоге с индексом</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_обзор">ОБЗОР</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git diff-files</em> [-q] [-0|-1|-2|-3|-c|--cc] [&lt;общие-параметры-diff&gt;] [&lt;путь&gt;&#8230;&#8203;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_описание">ОПИСАНИЕ</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Сравнивает файлы в рабочем каталоге и индексе. Когда заданы пути, сравниваются только указанные пути. В противном случае сравниваются все записи в индексе. Формат вывода такой же, как и у <code>git</code> <code>diff-index</code> и <code>git</code> <code>diff-tree</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_параметры">ПАРАМЕТРЫ</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>-p</code></dt>
<dt class="hdlist1"><code>-u</code></dt>
<dt class="hdlist1"><code>--patch</code></dt>
<dd>
<p>Сгенерировать патч (см. <a href="#generate_patch_text_with_p">Создание патчей с помощью -p</a>).</p>
</dd>
<dt class="hdlist1"><code>-s</code></dt>
<dt class="hdlist1"><code>--no-patch</code></dt>
<dd>
<p>Подавлять весь вывод от утилиты сравнения (включая в частности собственно список изменений). Полезно для команд, вроде <code>git</code> <code>show</code>, чтобы подавить вывод патча, который иначе показывается по умолчанию; или чтобы отменить эффект таких параметров, как <code>--patch</code>, или <code>--stat</code>, указанных ранее в командной строке (например для команды сокращения (alias)).</p>
</dd>
<dt class="hdlist1"><code>-U</code><em>&lt;n&gt;</em></dt>
<dt class="hdlist1"><code>--unified=</code><em>&lt;n&gt;</em></dt>
<dd>
<p>Генерировать списки изменений с <em>&lt;n&gt;</em> строками контекста вместо обычных трёх.
Подразумевает <code>--patch</code>.</p>
</dd>
<dt class="hdlist1"><code>--output=</code>&lt;файл&gt;</dt>
<dd>
<p>Выводить в указанный файл вместо стандартного вывода.</p>
</dd>
<dt class="hdlist1"><code>--output-indicator-new=</code>&lt;символ&gt;</dt>
<dt class="hdlist1"><code>--output-indicator-old=</code>&lt;символ&gt;</dt>
<dt class="hdlist1"><code>--output-indicator-context=</code>&lt;символ&gt;</dt>
<dd>
<p>Задаёт символ, используемый для обозначения новых, старых или контекстных строк в сгенерированном патче. Обычно это <code>+</code>, <code>-</code> и ` ` соответственно.</p>
</dd>
<dt class="hdlist1"><code>--raw</code></dt>
<dd>
<p>Сгенерировать список изменений в сыром формате.
Это действие по умолчанию.</p>
</dd>
<dt class="hdlist1"><code>--patch-with-raw</code></dt>
<dd>
<p>Синоним для <code>-p</code> <code>--raw</code>.</p>
</dd>
<dt class="hdlist1"><code>--indent-heuristic</code></dt>
<dd>
<p>Применять эвристику, которая сдвигает границы блоков списков изменений, дабы сделать патчи более удобными для чтения. Это поведение включено по умолчанию.</p>
</dd>
<dt class="hdlist1"><code>--no-indent-heuristic</code></dt>
<dd>
<p>Не применять эвристику сдвига границ блоков.</p>
</dd>
<dt class="hdlist1"><code>--minimal</code></dt>
<dd>
<p>Потратить дополнительное время, чтобы гарантировать, что будет сгенерирован минимально возможный список изменений.</p>
</dd>
<dt class="hdlist1"><code>--patience</code></dt>
<dd>
<p>Генерировать списки изменений с помощью «терпеливого» алгоритма (patience diff).</p>
</dd>
<dt class="hdlist1"><code>--histogram</code></dt>
<dd>
<p>Генерировать списки изменений с помощью «гистограммного» алгоритма (histogram diff).</p>
</dd>
<dt class="hdlist1"><code>--anchored=</code>&lt;текст&gt;</dt>
<dd>
<p>Генерировать списки изменений с помощью алгоритма поиска различий «с якорем» (anchored diff).</p>
<div class="paragraph">
<p>Этот параметр может быть указана несколько раз.</p>
</div>
<div class="paragraph">
<p>Если строка существует как в источнике, так и в назначении, встречается только один раз и начинается с <em>&lt;текста&gt;</em>, этот алгоритм пытается не допустить, чтобы эта строка была обозначена в выводе как удаляемая или добавляемая. Для собственно поиска отличий используется «терпеливый» алгоритм.</p>
</div>
</dd>
<dt class="hdlist1"><code>--diff-algorithm=</code>(<code>patience</code>|<code>minimal</code>|<code>histogram</code>|<code>myers</code>)</dt>
<dd>
<p>Выберите алгоритм для получения списка изменений. Доступны следующие варианты:</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>default</code></dt>
<dt class="hdlist1"><code>myers</code></dt>
<dd>
<p>Базовый жадный алгоритм, используемый в стандартной утилите сравнения (<code>diff</code>). В настоящее время это значение по умолчанию.</p>
</dd>
<dt class="hdlist1"><code>minimal</code></dt>
<dd>
<p>Потратить дополнительное время, чтобы гарантировать, что будет сгенерирован минимально возможный список изменений.</p>
</dd>
<dt class="hdlist1"><code>patience</code></dt>
<dd>
<p>Используйте «терпеливый» алгоритм сравнения (patience diff) для генерации патчей.</p>
</dd>
<dt class="hdlist1"><code>histogram</code></dt>
<dd>
<p>Этот алгоритм расширяет «терпеливый» алгоритм так, что он «поддерживает общие элементы с низкой частотой встречаемости».</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>В частности, если вы настроили переменную <code>diff.algorithm</code> на нестандартное значение и хотите использовать стандартный алгоритм, то следует задать параметр <code>--diff-algorithm=default</code>.</p>
</div>
</dd>
<dt class="hdlist1"><code>--stat</code>[<code>=</code>&lt;ширина&gt;[<code>,</code>&lt;ширина-имени&gt;[<code>,</code>&lt;число&gt;]]]</dt>
<dd>
<p>Генерировать статистику изменений diffstat. По умолчанию для имени файла используется столько места, сколько необходимо, а остаток — для графика. Максимальная <em>&lt;ширина&gt;</em> по умолчанию равна ширине терминала или 80 столбцам, если вывод производится не на терминал. Ширину части, отводящейся под имя файла, можно ограничить, указав <em>&lt;ширину-имени&gt;</em> после запятой или установив переменную конфигурации <code>diff.statNameWidth=</code>&lt;ширина-имени&gt;. Ширина части, отводящейся под график также можно ограничить с помощью <code>--stat-graph-width=</code>&lt;ширина-графика&gt; или переменной конфигурации <code>diff.statGraphWidth=</code>&lt;ширина-графика&gt;. Все команды, генерирующие статистические графики принимают параметры <code>--stat</code> или <code>--stat-graph-width</code>, а установка переменных <code>diff.statNameWidth</code> или <code>diff.statGraphWidth</code> влияет на все команды кроме <code>git</code> <code>format-patch</code>. При указании третьей части аргумента вывод ограничивается указанным <em>&lt;числом&gt;</em> строк, а при его превышении вместо оставшихся строк будет выведено ....</p>
<div class="paragraph">
<p>Эти параметры также могут быть установлены в индивидуальном порядке с помощью <code>--stat-width=</code>&lt;ширина&gt;, <code>--stat-name-width=</code>&lt;ширина-имени&gt; и <code>--stat-count=</code>&lt;число&gt;.</p>
</div>
</dd>
<dt class="hdlist1"><code>--compact-summary</code></dt>
<dd>
<p>Выводить в статистике diffstat краткую выжимку информации, содержащейся в расширенном заголовке, в частности, был ли файл создан или удалён («new» или «gone», и возможно с «<code>+l</code>», если это символическая ссылка) и был ли изменён режим доступа к нему (<code>+x</code> или <code>-x</code> для добавления или удаления исполняемого бита соответственно). Эта информация помещается между имени файла и графиком. Подразумевает <code>--stat</code>.</p>
</dd>
<dt class="hdlist1"><code>--numstat</code></dt>
<dd>
<p>Аналогичен <code>--stat</code>, но показывает количество добавленных и удалённых строк в десятичном формате и полный путь к файлу без сокращения, что делает его более удобным для машинной обработки. Для бинарных файлов выводит две чёрточки <code>-</code> вместо <code>0</code> <code>0</code>.</p>
</dd>
<dt class="hdlist1"><code>--shortstat</code></dt>
<dd>
<p>Выводить только последнюю строку, выводимую <code>--stat</code>, содержащую общее количество изменённых файлов, а также количество добавленных и удалённых строк.</p>
</dd>
<dt class="hdlist1"><code>-X</code> [&lt;аргумент&gt;<code>,..</code>.]</dt>
<dt class="hdlist1"><code>--dirstat</code>[<code>=</code>&lt;аргумент&gt;<code>,..</code>.]</dt>
<dd>
<p>Вывести распределение относительного количества изменений для каждого подкаталога (т.е. какой процент от общего числа изменений приходится на каждый конкретный каталог). Поведение <code>--dirstat</code> можно модифицировать, передавая ему список аргументов, разделённых запятыми. Аргументы по умолчанию контролируются переменной конфигурации diff.dirstat (см. <a href="git-config.html">git-config(1)</a>). Доступные аргументы:</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>changes</code></dt>
<dd>
<p>Подсчитывать количество строк, которые были удалены или добавлены. Этот алгоритм игнорирует чистые перемещения кода внутри файла. Другими словами, строки перемещённые внутри файла без изменений не учитываются в отличии от других правок. Это поведение по умолчанию, когда аргумент не указан.</p>
</dd>
<dt class="hdlist1"><code>lines</code></dt>
<dd>
<p>Подсчитывает количество строк с использованием обычного алгоритма поиска изменений, основываясь на строках и суммируя количество удалённых/добавленных строк. (Для бинарных файлов подсчитываются 64-байтовые блоки, так как у них нет естественного понятия «строк»). Это более затратный алгоритм работы <code>--dirstat</code>, чем <code>changes</code>, но он учитывает переставленные строки внутри файла так же, как и другие изменения. Вывод с этим алгоритмом лучше согласуется с теми данными, которые вы получаете от других параметров <code>--</code>*stat.</p>
</dd>
<dt class="hdlist1"><code>files</code></dt>
<dd>
<p>Подсчитывает количество изменённых файлов. При анализе каждый изменённый файл учитывается в равной степени. Это наиболее экономичный алгоритм <code>--dirstat</code>, так как он не требует просмотра содержимого файлов.</p>
</dd>
<dt class="hdlist1"><code>cumulative</code></dt>
<dd>
<p>Для родительского каталога также учитывает изменения в дочерних подкаталогах. Обратите внимание, что при использовании <code>cumulative</code> сумма процентов может превышать 100%. Поведение по умолчанию (некумулятивное) можно задать с помощью аргумента <code>noncumulative</code>.</p>
</dd>
<dt class="hdlist1"><em>&lt;число&gt;</em></dt>
<dd>
<p>При использовании целочисленного значения в качестве аргумента, оно задаёт пороговое значение (по умолчанию 3%). Каталоги, изменения в которых составляют меньшую часть от общего числа изменений, чем указанный процент, не отображаются в выводе.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>Пример: Следующая команда будет подсчитывать какую долю составляют файлы, которые были изменены в каждом конкретном каталоге, при этом игнорируя каталоги, на которые приходится менее 10% изменённых файлов и считая изменения в дочерних каталогов, как часть изменений в родительских: <code>--dirstat=files,10,cumulative</code>.</p>
</div>
</dd>
<dt class="hdlist1"><code>--cumulative</code></dt>
<dd>
<p>Синоним для <code>--dirstat=cumulative</code>.</p>
</dd>
<dt class="hdlist1"><code>--dirstat-by-file</code>[<code>=</code>&lt;аргумент&gt;<code>,..</code>.]</dt>
<dd>
<p>Синоним для <code>--dirstat=files,</code>&lt;аргумент&gt;<code>,..</code>..</p>
</dd>
<dt class="hdlist1"><code>--summary</code></dt>
<dd>
<p>Вывести краткую сводку из информации, содержащейся в расширенных заголовках списков изменений. В частности, информацию о создании, переименовании и изменении режима доступа к файлу.</p>
</dd>
<dt class="hdlist1"><code>--patch-with-stat</code></dt>
<dd>
<p>Синоним для <code>-p</code> <code>--stat</code>.</p>
</dd>
<dt class="hdlist1"><code>-z</code></dt>
<dd>
<p>Когда заданы параметры <code>--raw</code>, <code>--numstat</code>, <code>--name-only</code> или <code>--name-status</code>, не вносить ни
какие изменения в пути файлов и использовать NUL-символ в качестве разделителя полей вывода.</p>
<div class="paragraph">
<p>Без данного параметра пути с «необычными» символами берутся в кавычки, как это описано для переменной конфигурации <code>core.quotePath</code> (см. <a href="git-config.html">git-config(1)</a>).</p>
</div>
</dd>
<dt class="hdlist1"><code>--name-only</code></dt>
<dd>
<p>Выводить только имена изменённых файлов в результирующем дереве. Имена файлов обычно используют кодировку UTF-8. Для более подробной информации о кодировках см. обсуждение на справочной странице <a href="git-log.html">git-log(1)</a>.</p>
</dd>
<dt class="hdlist1"><code>--name-status</code></dt>
<dd>
<p>Показывать только имя/имена и статус каждого изменённого файла. См., что означают буквы статуса, в описании параметра <code>--diff-filter</code>. Как и для <code>--name-only</code>, имена файлов обычно используют кодировку UTF-8.</p>
</dd>
<dt class="hdlist1"><code>--submodule</code>[<code>=</code>&lt;формат&gt;]</dt>
<dd>
<p>Задаёт, как должны отображаться различия в подмодулях. При указании <code>--submodule=short</code>, используется формат <code>short</code>. Этот формат показывает только имена коммитов в начале и конце диапазона. При указании <code>--submodule</code> или <code>--submodule=log</code> используется формат <code>log</code>. Этот формат перечисляет все коммиты в диапазоне, как это делает <a href="git-submodule.html">git-submodule(1)</a> <code>summary</code>. При указании <code>--submodule=diff</code> используется формат <code>diff</code>. Этот формат показывает различия в содержимом подмодуля между началом и концом диапазона в виде списка изменений, встроенного в основной. По умолчанию используется формат указанный в переменной конфигурации <code>diff.submodule</code> или <code>short</code>, если переменная не установлена.</p>
</dd>
<dt class="hdlist1"><code>--color</code>[<code>=</code>&lt;когда&gt;]</dt>
<dd>
<p>Выводить список изменений в цвете. <code>--color</code> (т.е. без аргумента <code>=</code>&lt;когда&gt;) эквивалентно <code>--color=always</code>. <em>&lt;когда&gt;</em> может быть одним из: <code>always</code>, <code>never</code> или <code>auto</code>.</p>
</dd>
<dt class="hdlist1"><code>--no-color</code></dt>
<dd>
<p>Выключить выделение цветом при выводе списка изменений.
Эквивалентно <code>--color=never</code>.</p>
</dd>
<dt class="hdlist1"><code>--color-moved</code>[<code>=</code>&lt;режим&gt;]</dt>
<dd>
<p>Перемещённые строки кода выделяются другим цветом.
Если параметр не задан, то <em>&lt;режим&gt;</em> по умолчанию: <code>no</code>; если
задан, но без явного указания <em>&lt;режима&gt;</em> — то <code>zebra</code>.
Значение <em>&lt;режима&gt;</em> может быть одним из:</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Перемещённые строки ни как не выделяются.</p>
</dd>
<dt class="hdlist1"><code>default</code></dt>
<dd>
<p>Синоним для <code>zebra</code>. В будущем это может измениться, если появится режим получше.</p>
</dd>
<dt class="hdlist1"><code>plain</code></dt>
<dd>
<p>Любая строка, добавленная в одном месте и удалённая в другом, будет окрашена с помощью <code>color.diff.newMoved</code>. Аналогично <code>color.diff.oldMoved</code> будет использоваться для удалённых строк, которые добавлены в каком-то другом месте. Этот режим подсвечивает все перемещённые строки, но при рецензировании кода знать был ли блок перемещён и при этом без какой-либо информации о перестановках не так уж и полезно.</p>
</dd>
<dt class="hdlist1"><code>blocks</code></dt>
<dd>
<p>Для поиска блоков перемещённого текста (из не мене чем 20-и алфавитно-цифровых символов) используется жадный алгоритм. Найденные блоки окрашиваются с помощью <code>color.diff.</code>(<code>old</code>|<code>new</code>)<code>Moved</code>. Возможности различить смежные блоки нет.</p>
</dd>
<dt class="hdlist1"><code>zebra</code></dt>
<dd>
<p>Поиск блоков перемещённого текста происходит так же, как и в режиме <code>blocks</code>. Блоки окрашиваются с помощью <code>color.diff.</code>(<code>old</code>|<code>new</code>)<code>Moved</code> или <code>color.diff.</code>(<code>old</code>|<code>new</code>)<code>MovedAlternative</code>. Изменение цвета с одного на другой указывает на то, что был найден новый блок.</p>
</dd>
<dt class="hdlist1"><code>dimmed-zebra</code></dt>
<dd>
<p>Аналогично <code>zebra</code>, но также выполняется дополнительное затемнение «неинтересных» частей перемещённого кода. Интересными считаются пограничные строки двух соседних блоков, остальное — неинтересным. <code>dimmed_zebra</code> — устаревший синоним.</p>
</dd>
</dl>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><code>--no-color-moved</code></dt>
<dd>
<p>Отключить поиск перемещений. Этот параметр можно использовать для переопределения настроек, заданных переменными конфигурации. Эквивалентно <code>--color-moved=no</code>.</p>
</dd>
<dt class="hdlist1"><code>--color-moved-ws=</code>&lt;режим&gt;<code>,..</code>.</dt>
<dd>
<p>Задаёт должны ли игнорироваться пробелы при поиске перемещений для <code>--color-moved</code>.
Следующие режимы могут быть указаны через запятую:</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>no</code></dt>
<dd>
<p>Не игнорировать пробелы при поиске перемещений.</p>
</dd>
<dt class="hdlist1"><code>ignore-space-at-eol</code></dt>
<dd>
<p>Игнорировать изменения пробелов на концах строк.</p>
</dd>
<dt class="hdlist1"><code>ignore-space-change</code></dt>
<dd>
<p>Игнорировать изменения количества пробелов. Этот режим игнорирует пробелы на концах строк и считает все остальные последовательности одного или более пробельных символов эквивалентными.</p>
</dd>
<dt class="hdlist1"><code>ignore-all-space</code></dt>
<dd>
<p>Игнорировать все пробелы при сравнении строк. Это игнорирует различия даже если в одной строке пробелы есть там, где в другой их нет.</p>
</dd>
<dt class="hdlist1"><code>allow-indentation-change</code></dt>
<dd>
<p>Сначала игнорировать любые пробелы при обнаружении перемещений, а затем группировать перемещённые блоки кода в один только, если изменение пробелов одинаково для каждой строки блока. Этот режим несовместим с остальными.</p>
</dd>
</dl>
</div>
</div>
</div>
</dd>
<dt class="hdlist1"><code>--no-color-moved-ws</code></dt>
<dd>
<p>Не игнорировать пробелы при поиске перемещений. Этот параметр можно использовать для переопределения настроек, заданных переменными конфигурации. Эквивалентно <code>--color-moved-ws=no</code>.</p>
</dd>
<dt class="hdlist1"><code>--word-diff</code>[<code>=</code>&lt;режим&gt;]</dt>
<dd>
<p>По умолчанию слова разделены пробелами; см. <code>--word-diff-regex</code> ниже. Аргумент <em>&lt;режим&gt;</em> по умолчанию равен <code>plain</code>, и должен быть одним из:</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>color</code></dt>
<dd>
<p>Выделять изменённые слова только цветом. Подразумевает <code>--color</code>.</p>
</dd>
<dt class="hdlist1"><code>plain</code></dt>
<dd>
<p>Отображать слова как [<code>-</code>удалено-] и {добавлено}. Этот нежим не пытается экранировать разделители, если они появляются во входных данных, поэтому вывод может быть неоднозначным.</p>
</dd>
<dt class="hdlist1"><code>porcelain</code></dt>
<dd>
<p>Использовать специальный построчный формат, предназначенный для программной обработки сценариями. Добавленные/удалённые/неизменённые участки строк исходных документах выводятся в виде обычного унифицированного списка изменений: каждый участок записывается на отдельной строке, начинающейся, соответственно, с символов <code>+</code>/<code>-</code>/` ` и продолжается до конца строки. А собственно переводы строк во входных данных представляются в виде тильды <code>~</code> на отдельной строке.</p>
</dd>
<dt class="hdlist1"><code>none</code></dt>
<dd>
<p>Отключить сравнение слов; снова.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>Обратите внимание, что несмотря на название первого режима, цвет используется для выделения изменённых частей во всех режимах, если он включён.</p>
</div>
</dd>
<dt class="hdlist1"><code>--word-diff-regex=</code>&lt;регулярное-выражение&gt;</dt>
<dd>
<p>Использовать <em>&lt;регулярное_выражение&gt;</em> для определения того, что является словом, вместо того, чтобы считать словом любую последовательность непробельных символов. Также подразумевает параметр <code>--word-diff</code>, если он не было указан до этого.</p>
<div class="paragraph">
<p>Каждая подстрока, не перекрывающаяся с другими и сопоставленная <em>&lt;регулярному_выражению&gt;</em> считается словом. Всё, что находится между ними, считается пробелами и игнорируется(!) при поиске различий. Возможно, вам понадобиться добавить |[<code>^</code>[<code>:space:</code>]] к вашему регулярному выражению, чтобы быть уверенным, что оно будет сопоставлено с любой непробельным символом. Сопоставленная подстрока, содержащая перевод строки, по-тихому обрезается(!) на символе перевода строки.</p>
</div>
<div class="paragraph">
<p>Например, <code>--word-diff-regex=.</code> будет обращаться с каждым символом как со словом и, соответственно, показывать различия символ к символу.</p>
</div>
<div class="paragraph">
<p>Это регулярное выражение также можно задать через драйвер пользовательской утилиты сравнения или переменные конфигурации; см. <a href="gitattributes.html">gitattributes(5)</a> или <a href="git-config.html">git-config(1)</a>. Явное указание этого параметра переопределяет любое значение, заданное в драйвере или переменной конфигурации. Кроме того, драйверы переопределяют значения, заданные в переменных конфигурации.</p>
</div>
</dd>
<dt class="hdlist1"><code>--color-words</code>[<code>=</code>&lt;регулярное-выражение&gt;]</dt>
<dd>
<p>Эквивалентно <code>--word-diff=color</code> плюс (если указано регулярное выражение) <code>--word-diff-regex=</code>&lt;регулярное_выражение&gt;.</p>
</dd>
<dt class="hdlist1"><code>--no-renames</code></dt>
<dd>
<p>Отключить обнаружение переименований, даже если в файле конфигурации оно включено по умолчанию.</p>
</dd>
<dt class="hdlist1"><code>--</code>[<code>no-</code>]<code>rename-empty</code></dt>
<dd>
<p>Определяет, рассматривать ли пустые бинарные объекты, как возможные источники переименований.</p>
</dd>
<dt class="hdlist1"><code>--check</code></dt>
<dd>
<p>Предупреждать, если изменения включают маркеры конфликтов или ошибки расстановки пробелов. Что именно считается ошибками расстановки пробелов, настраивается с помощью переменной конфигурации <code>core.whitespace</code>. По умолчанию такими ошибками считаются пробелы в конце строк (включая строки, состоящие только из пробелов), а также пробел внутри начального отступа строки, непосредственно за котором следует табуляция. Программа завершится с ненулевым статусом, если такие проблемы будут обнаружены. Не совместимо с <code>--exit-code</code>.</p>
</dd>
<dt class="hdlist1"><code>--ws-error-highlight=</code>&lt;тип&gt;</dt>
<dd>
<p>Выделять цветом ошибки расстановки пробелов в строках <code>context</code> (контекстных), <code>old</code> (старых) или <code>new</code> (новых) в списке изменений. Допустимо несколько значений, разделённых запятой; <code>none</code> сбрасывает предыдущие значения, <code>default</code> сбрасывает список до <code>new</code>, а <code>all</code> — это сокращение для <code>old,new,context</code>. Если этот параметр не указан, и переменная конфигурации <code>diff.wsErrorHighlight</code> не установлена, то ошибки расстановки пробелов будут выделятся только в новых строках. Для выделения используется цвет, указанный в переменной конфигурации <code>color.diff.whitespace</code>.</p>
</dd>
<dt class="hdlist1"><code>--full-index</code></dt>
<dd>
<p>Вместо первых нескольких символов показывать полные имена blob-объектов в строке «index» при выводе патча.</p>
</dd>
<dt class="hdlist1"><code>--binary</code></dt>
<dd>
<p>Выводить список изменений в бинарных файлах, который может быть применён с помощью <code>git-apply</code>. Также подразумевает <code>--full-index</code>.
Подразумевает <code>--patch</code>.</p>
</dd>
<dt class="hdlist1"><code>--abbrev</code>[<code>=</code><em>&lt;n&gt;</em>]</dt>
<dd>
<p>Вместо вывода полных 40-байтовых шестнадцатеричных имён объектов в списках изменений в сыром формате, а также в строках заголовков diff-tree, выводить их минимальный префикс, который имеет как минимум <em>&lt;n&gt;</em> шестнадцатеричных цифр и уникально идентифицирует объект. Однако, при выводе списка изменений в виде патча параметр <code>--full-index</code> имеет приоритет, т.е. если задан параметр <code>--full-index</code>, будут выведены полные имена блоков, независимо от того, задан ли <code>--abbrev</code>. Количество выводимых цифр отличное от значения по умолчанию можно задать с помощью <code>--abbrev=</code><em>&lt;n&gt;</em>.</p>
</dd>
<dt class="hdlist1"><code>-B</code>[<em>&lt;n&gt;</em>][<code>/</code><em>&lt;m&gt;</em>]</dt>
<dt class="hdlist1"><code>--break-rewrites</code>[<code>=</code>[<em>&lt;n&gt;</em>][<code>/</code><em>&lt;m&gt;</em>]]</dt>
<dd>
<p>Разбивать изменения, которые полностью переписывают файл на пары удаления и создания. Этот параметр служит двум целям:</p>
<div class="paragraph">
<p>Влияет на то, как правка, которая по сути представляет собой полное переписывание файла, отображается в списке изменений не как серия удалений и вставок, смешанных с несколькими строками «контекста», которые оказались таковыми лишь по случайному стечению обстоятельств, а как одно единое удаление старого файла целиком, за которым следует создание нового файла. Число <em>&lt;m&gt;</em>(по умолчанию 60%) в аргументе параметра <code>-B</code> задаёт, какая часть файла должна быть изменена, чтобы он считался полностью переписанным. Например, <code>-B/70</code>% указывает, что, чтобы Git считал файл полностью переписанным, в нём должно оставаться нетронутым менее 30% исходного содержимого (т.е. в случае, если нетронутыми будут больше 30% объёма файла, полученный патч будет серией удалений и вставок, смешанных с контекстными строками, как при обычном выводе).</p>
</div>
<div class="paragraph">
<p>При использовании совместно с <code>-M</code>, полностью переписанный файл также рассматривается как возможный источник переименований (обычно <code>-M</code> рассматривает в качестве таковых только файлы, которые были удалены). Число <em>&lt;n&gt;</em>(по умолчанию 50%) в аргументе параметра <code>-B</code> задаёт, какая часть файла должна быть изменена, чтобы он рассматривался как возможный источник переименований. Например, при указании <code>-B20</code>% для того, чтобы файл рассматривался в качестве такового, изменения в нём (включая добавления и удаления строк) должны составлять более 20% файла.</p>
</div>
</dd>
<dt class="hdlist1"><code>-M</code>[<em>&lt;n&gt;</em>]</dt>
<dt class="hdlist1"><code>--find-renames</code>[<code>=</code><em>&lt;n&gt;</em>]</dt>
<dd>
<p>Обнаруживать переименования.
Если указан аргумент <em>&lt;n&gt;</em>, то это значение является пороговым коэффициентом
сходства (т.е. количеством добавлений/удалений по отношению к размеру файла).
Например, <code>-M90</code>% означает, что Git должен считать пару файлов
удалённый/добавленый переименованием, если более 90% файла не изменилось. Без
знака процента % это число рассматривается как дробная часть десятичной
дроби (т.е. с нулём и десятичной точкой перед числом). Так например, <code>-M5</code>
рассматривается «0.5» и таким образом эквивалентно <code>-M50</code>%. Аналогично, <code>-M05</code>
эквивалентно <code>-M5</code>%. Чтобы ограничиться обнаружением только переименований без
изменений, используйте <code>-M100</code>%. По умолчанию коэффициент сходства равен 50%.</p>
</dd>
<dt class="hdlist1"><code>-C</code>[<em>&lt;n&gt;</em>]</dt>
<dt class="hdlist1"><code>--find-copies</code>[<code>=</code><em>&lt;n&gt;</em>]</dt>
<dd>
<p>Обнаруживать копии наряду с переименованиями. См. также <code>--find-copies-harder</code>. Аргумент <em>&lt;n&gt;</em>, если указан, имеет то же значение, что и в <code>-M</code><em>&lt;n&gt;</em>.</p>
</dd>
<dt class="hdlist1"><code>--find-copies-harder</code></dt>
<dd>
<p>По соображениям производительности, по умолчанию параметр <code>-C</code> рассматривает в качестве исходных файлов копий только те файлы, которые были изменены в том же наборе изменений. Этот флаг заставляет команду рассматривать в качестве кандидатов на роль источника копии также и неизмененные файлы. Для больших проектов это очень дорогая операция, поэтому используйте её с осторожностью. Передача параметра <code>-C</code> более одного раза имеет тот же эффект.</p>
</dd>
<dt class="hdlist1"><code>-D</code></dt>
<dt class="hdlist1"><code>--irreversible-delete</code></dt>
<dd>
<p>Опускать исходное содержимое файла при его удалении, т.е. выводить только заголовок, но не «различия» между удаляемым файлом и <code>/dev/null</code>. Полученный патч не предназначен для применения с помощью <code>patch</code> или <code>git</code> <code>apply</code>, а исключительно для тех людей, кто хочет сосредоточиться на рецензировании или просмотре различий после внесения изменений. Кроме того, с таким патчем, очевидно, не будет возможности обратить изменения, даже вручную; отсюда и название параметра: «irreversible» — необратимый.</p>
<div class="paragraph">
<p>При использовании совместно с <code>-B</code>, опускается также и содержимое удаляемой части в паре «удаление/создание».</p>
</div>
</dd>
<dt class="hdlist1"><code>-l</code>&lt;число&gt;</dt>
<dd>
<p>Выполнение поиска для параметров <code>-M</code> и <code>-C</code> происходит в два этапа: сначала производится некоторый предварительные шаги, которые позволяют дёшево обнаружить лишь часть переименований/копирований, а затем следует исчерпывающая часть поиска, на которой все оставшиеся назначения для которых не было найдено пары сравниваются со всеми подходящими для них источниками. (Для переименований подходящими считаются только те источники, которым ещё не были найдены пары; для копирований — все исходные источники.) Для N возможных файлов источников и назначений эта исчерпывающая проверка имеет сложность O(N^2). Данный параметр предотвращает запуск исчерпывающей части поиск переименований/копирований, если количество файлов источников/назначений превышает указанное <em>&lt;число&gt;</em> (по умолчанию: <code>diff.renameLimit</code>). Обратите внимание, что значение <code>0</code> означает, что это количество файлов неограниченно.</p>
</dd>
<dt class="hdlist1"><code>--diff-filter=</code>[(<code>A</code>|<code>C</code>|<code>D</code>|<code>M</code>|<code>R</code>|<code>T</code>|<code>U</code>|<code>X</code>|<code>B</code>)<code>...</code>[*]]</dt>
<dd>
<p>Выбирать только файлы, которые были добавлены (<code>A</code>, Added), скопированы (<code>C</code>, Copied), удалены (<code>D</code>, Deleted), изменены (<code>M</code>, Modified), переименованы (<code>R</code>, Renamed), чей тип (т.е. обычный файл, символическая ссылка, подмодуль, &#8230;&#8203;) был изменён (<code>T</code>, Type), не слиты (<code>U</code>, Unmerged), неизвестны (<code>X</code>) или имеют сломанную связь (<code>B</code>, Broken). Может быть задано любое подмножество символов фильтра (включая пустое). При добавлении * (всё или ничего) к аргументам, то или выбираются все пути, если существует хотя бы один файл, соответствующий остальным критериям, или ничего, если такого файла нет.</p>
<div class="paragraph">
<p>Также если вместо этих прописных букв задать их строчные версии, то соответствующие этому критерию файлы будут наоборот исключены. Например, <code>--diff-filter=ad</code> исключает добавленные и удалённые пути.</p>
</div>
<div class="paragraph">
<p>Обратите внимание, что не все списки изменений могут обеспечить доступ ко всем типам изменений. В частности, записи о переименованиях и копированиях не будут доступны, если обнаружение для этих типов не было включено.</p>
</div>
</dd>
<dt class="hdlist1"><code>-S</code>&lt;строка&gt;</dt>
<dd>
<p>Искать различия, которые изменяют количество вхождений указанной <em>&lt;строки&gt;</em> в файле (т.е. её добавления/удаления, но не изменения/перемещения). Предназначено для использования в скриптах.</p>
<div class="paragraph">
<p>Это полезно, если вы ищете точный блок кода (например, структуру), и хотите знать историю этого блока с момента его появления: вызывайте эту функцию последовательно несколько раз, передавая полученный на очередном шаге интересующий вас блок обратно в <code>-S</code>, и продолжайте так до тех пор, пока не получите самую первую версию этого блока.</p>
</div>
<div class="paragraph">
<p>Поиск происходит также и в бинарных файлах.</p>
</div>
</dd>
<dt class="hdlist1"><code>-G</code>&lt;регулярное-выражение&gt;</dt>
<dd>
<p>Искать списки изменений, текст патча которых содержит добавление/удаление строк, соответствующих <em>&lt;регулярному_выражению&gt;</em>.</p>
<div class="paragraph">
<p>Чтобы проиллюстрировать разницу между <code>-S</code>&lt;регулярное_выражение&gt; <code>--pickaxe-regex</code> и <code>-G</code>&lt;регулярное_выражение&gt;, рассмотрим коммит со следующими различиями в одном и том же файле:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</pre>
</div>
</div>
<div class="paragraph">
<p>В то время как команда <code>git</code> <code>log</code> <code>-G</code>"frotznitfol"` выведет этот коммит, `git log -S"frotznitfol" <code>--pickaxe-regex</code> — не выведет (потому что количество вхождений этой строки не изменилось).</p>
</div>
<div class="paragraph">
<p>Если не указан параметр <code>--text</code> и для данного типа файлов нет фильтра textconv, изменения вносимые патчами в бинарные файлы будут проигнорированы.</p>
</div>
<div class="paragraph">
<p>См. раздел <em>pickaxe</em> в <a href="gitdiffcore.html">gitdiffcore(7)</a> для более подробной информации.</p>
</div>
</dd>
<dt class="hdlist1"><code>--find-object=</code>&lt;id-объекта&gt;</dt>
<dd>
<p>Искать различия, которые меняют количество вхождений указанного объекта. Аналогично <code>-S</code>, но в качестве аргумента вместо конкретной строки для поиска передаётся идентификатор конкретного объекта.</p>
<div class="paragraph">
<p>Объект может быть blob-объектом или коммитом в подмодуле. Этот параметр также подразумевает <code>-t</code> в <code>git-log</code>, для поиска деревьев.</p>
</div>
</dd>
<dt class="hdlist1"><code>--pickaxe-all</code></dt>
<dd>
<p>Когда поиске с помощью параметров <code>-S</code> или <code>-G</code> находит изменения, показывать все изменения в данном наборе, а не только в тех файлах, которые содержат изменения в заданной <em>&lt;строке&gt;</em>.</p>
</dd>
<dt class="hdlist1"><code>--pickaxe-regex</code></dt>
<dd>
<p>Обрабатывать <em>&lt;строку&gt;</em>, переданную в <code>-S</code>, как расширенное регулярное выражение POSIX с котором должно производится сопоставление.</p>
</dd>
<dt class="hdlist1"><code>-O</code>&lt;файл-порядка&gt;</dt>
<dd>
<p>Контролирует порядок, в котором файлы появляются в выводе. Этот параметр переопределяет значение указанное в переменной конфигурации <code>diff.orderFile</code> (см. <a href="git-config.html">git-config(1)</a>). Чтобы отменить использование файла указанного в <code>diff.orderFile</code>, используйте <code>-O/dev/null</code>.</p>
<div class="paragraph">
<p>Порядок вывода определяется порядком glob-шаблонов в <em>&lt;файле-порядка&gt;</em>. Первыми выводятся все файлы, пути которых соответствуют первому шаблону, затем файлы, соответствующие второму шаблону (но не первому), и так далее. Все файлы, которые не соответствуют ни одному из шаблонов, выводятся в конце, как если бы в конце файла был неявно задан шаблон, который сопоставляется всем путям. Пути одного ранка (которые соответствуют какому-либо одному шаблону, но не одному из предыдущих) относительно друг друга выводятся в нормальном порядке.</p>
</div>
<div class="paragraph">
<p>Синтаксис <em>&lt;файла-порядка&gt;</em> следующий:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Пустые строки игнорируются, так что их можно использовать для улучшения читаемости.</p>
</li>
<li>
<p>Строки, начинающиеся с символа решётки («#»), игнорируются, их можно использовать для комментариев. Если шаблон начинается с решётки, добавьте обратный слэш («\») перед ней.</p>
</li>
<li>
<p>Все остальные строки являются шаблонами; по одному на строку.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>Синтаксис и семантика у этих шаблонов те же, что и у шаблонов, используемых для <code>fnmatch</code>(3) без флага <code>FNM_PATHNAME</code>, за исключением того, что путь к файлу также сопоставляются шаблону; при этом в качестве пути к файлу сопоставляется путь к его родительскому каталогу любого уровня. Например, шаблону «<code>foo</code>*bar» будет соответствовать как <code>fooasdfbar</code>, так и «<code>foo/bar/baz/asdf</code>», но не «<code>foobarx</code>».</p>
</div>
</dd>
<dt class="hdlist1"><code>--skip-to=</code>&lt;файл&gt;</dt>
<dt class="hdlist1"><code>--rotate-to=</code>&lt;файл&gt;</dt>
<dd>
<p>Пропускать в выводе файлы до указанного <em>&lt;файла&gt;</em> (со <code>--skip-to</code>), или вывести их в конец (с <code>--rotate-to</code>). Эти параметры были добавлены в первую очередь для использования в команде <code>git</code> <code>difftool</code> и, вероятно, от них будет не так много пользы в других командах.</p>
</dd>
<dt class="hdlist1"><code>-R</code></dt>
<dd>
<p>Поменять местами два входных файла; т.е. показывать, какие изменения произошли бы при переходя от версии файла в индексе или на диске к той, что содержится в дереве коммита.</p>
</dd>
<dt class="hdlist1"><code>--relative</code>[<code>=</code>&lt;путь&gt;]</dt>
<dt class="hdlist1"><code>--no-relative</code></dt>
<dd>
<p>При запуске из одного из подкаталогов проекта этот параметр позволяет исключить изменения за пределами этого каталога и отображать пути относительно него. Если вы не находитесь в каком-либо подкаталоге (например, в голом репозитории), можно указать подкаталог, относительно которого будет производиться вывод, передав <em>&lt;путь&gt;</em> в качестве аргумента. Параметр <code>--no-relative</code> можно использовать как для отмены эффекта от переменной конфигурации <code>diff.relative</code>, так и предшествующего параметра <code>--relative</code>.</p>
</dd>
<dt class="hdlist1"><code>-a</code></dt>
<dt class="hdlist1"><code>--text</code></dt>
<dd>
<p>Обрабатывать все файлы как текстовые.</p>
</dd>
<dt class="hdlist1"><code>--ignore-cr-at-eol</code></dt>
<dd>
<p>Игнорировать символы возврата каретки в конце строк при сравнении.</p>
</dd>
<dt class="hdlist1"><code>--ignore-space-at-eol</code></dt>
<dd>
<p>Игнорировать изменения пробелов на концах строк.</p>
</dd>
<dt class="hdlist1"><code>-b</code></dt>
<dt class="hdlist1"><code>--ignore-space-change</code></dt>
<dd>
<p>Игнорировать изменения количества пробелов. Этот режим игнорирует пробелы на концах строк и считает все остальные последовательности одного или более пробельных символов эквивалентными.</p>
</dd>
<dt class="hdlist1"><code>-w</code></dt>
<dt class="hdlist1"><code>--ignore-all-space</code></dt>
<dd>
<p>Игнорировать все пробелы при сравнении строк. Это игнорирует различия даже если в одной строке пробелы есть там, где в другой их нет.</p>
</dd>
<dt class="hdlist1"><code>--ignore-blank-lines</code></dt>
<dd>
<p>Игнорировать изменения, в которых все строки пустые.</p>
</dd>
<dt class="hdlist1"><code>-I</code>&lt;регулярное-выражение&gt;</dt>
<dt class="hdlist1"><code>--ignore-matching-lines=</code>&lt;регулярное-выражение&gt;</dt>
<dd>
<p>Игнорировать изменения, в которых все строки сопоставляются <em>&lt;регулярному-выражению&gt;</em>. Этот параметр может быть указан несколько раз.</p>
</dd>
<dt class="hdlist1"><code>--inter-hunk-context=</code>&lt;число&gt;</dt>
<dd>
<p>Выводить в качестве контекста между блоками изменений до указанного <em>&lt;числа&gt;</em> строк, тем самым объединяя близкие блоки изменений. По умолчанию равно значению переменной конфигурации <code>diff.interHunkContext</code> или 0, если оно не установлено.</p>
</dd>
<dt class="hdlist1"><code>-W</code></dt>
<dt class="hdlist1"><code>--function-context</code></dt>
<dd>
<p>Показывать всю функцию в качестве контекста для каждого изменения. Для определения имён функций используется тот же механизм, что и для определения заголовков блоков изменений командой <code>git</code> <code>diff</code> (см. «Определение пользовательского заголовка блока» в <a href="gitattributes.html">gitattributes(5)</a>).</p>
</dd>
<dt class="hdlist1"><code>--exit-code</code></dt>
<dd>
<p>Сделать так, чтобы программа завершалась с определённым кодом, аналогично тому, как это делает команда <code>diff</code>(1). То есть при наличии различий она будет завершаться с кодом 1, а при отсутствии — с кодом 0.</p>
</dd>
<dt class="hdlist1"><code>--quiet</code></dt>
<dd>
<p>Отключить весь вывод у данной программы. Подразумевает <code>--exit-code</code>. Также отключает выполнение вспомогательных сторонних утилит сравнения, коду завершения которых нельзя доверять, т.е. если для них не установлена переменная конфигурации <code>diff.trustExitCode</code> или <code>diff.</code><em>&lt;драйвер&gt;</em>.<code>trustExitCode</code>, а также если переменная окружения <code>GIT_EXTERNAL_DIFF_TRUST_EXIT_CODE</code> ложна.</p>
</dd>
<dt class="hdlist1"><code>--ext-diff</code></dt>
<dd>
<p>Разрешить выполнение вспомогательных сторонних утилит сравнения. Если вы настроили драйвер сторонней утилиты сравнения с помощью <a href="gitattributes.html">gitattributes(5)</a>, то вам нужно будет использовать этот параметр с командой <a href="git-log.html">git-log(1)</a> и другими подобными.</p>
</dd>
<dt class="hdlist1"><code>--no-ext-diff</code></dt>
<dd>
<p>Запретить драйверы сторонних утилит сравнения.</p>
</dd>
<dt class="hdlist1"><code>--textconv</code></dt>
<dt class="hdlist1"><code>--no-textconv</code></dt>
<dd>
<p>Разрешить (или запретить) преобразование бинарных файлов в текст с помощью внешних фильтров при их сравнении. См. подробности в <a href="gitattributes.html">gitattributes(5)</a>. Полученный вывод подходит для восприятия человеком, но поскольку фильтры <code>textconv</code> обычно представляют из себя одностороннее преобразование, полученный патч нельзя будет применить. По этой причине фильтры <code>textconv</code> по умолчанию включены только для <a href="git-diff.html">git-diff(1)</a> и <a href="git-log.html">git-log(1)</a>, но не для <a href="git-format-patch.html">git-format-patch(1)</a> или низкоуровневых команд сравнения.</p>
</dd>
<dt class="hdlist1"><code>--ignore-submodules</code>[<code>=</code>(<code>none</code>|<code>untracked</code>|<code>dirty</code>|<code>all</code>)]</dt>
<dd>
<p>Игнорировать изменения в подмодулях при создании вывода. Значением по умолчанию является <code>all</code>. При использовании значения <code>none</code> будет считаться, что подмодуль изменён, если он содержит неотслеживаемые или изменённые файлы или если его <code>HEAD</code> отличается от коммита, зафиксированного в надпроекте и может быть использовано для переопределения любых переменных конфигурации с <code>ignore</code> в <a href="git-config.html">git-config(1)</a> или <a href="gitmodules.html">gitmodules(5)</a>. При использовании <code>untracked</code> подмодули не считаются грязными только из-за того, что они содержат неотслеживаемые файлы (но они всё равно проверяются на наличие изменений в содержимом). При использовании <code>dirty</code> игнорируются все изменения в рабочих каталогах подмодулей и показываются только изменения коммитов, хранящихся в надпроекте (таким было поведение до версии 1.7.0). При использовании <code>all</code> все изменения в подмодулях скрываются.</p>
</dd>
<dt class="hdlist1"><code>--src-prefix=</code>&lt;префикс&gt;</dt>
<dd>
<p>Использовать указанный <em>&lt;префикс&gt;</em> для источника вместо «a/».</p>
</dd>
<dt class="hdlist1"><code>--dst-prefix=</code>&lt;префикс&gt;</dt>
<dd>
<p>Использовать указанный <em>&lt;префикс&gt;</em> для назначения вместо «b/».</p>
</dd>
<dt class="hdlist1"><code>--no-prefix</code></dt>
<dd>
<p>Не выводить ни префикс источника, ни назначения.</p>
</dd>
<dt class="hdlist1"><code>--default-prefix</code></dt>
<dd>
<p>Использовать стандартные префиксы источника и назначения («a/» и «b/»). Это переопределяет такие переменные конфигурации, как <code>diff.noprefix</code>, <code>diff.srcPrefix</code>, <code>diff.dstPrefix</code>, и <code>diff.mnemonicPrefix</code> (см. <a href="git-config.html">git-config(1)</a>).</p>
</dd>
<dt class="hdlist1"><code>--line-prefix=</code>&lt;префикс&gt;</dt>
<dd>
<p>Добавить дополнительный <em>&lt;префикс&gt;</em> к каждой строке вывода.</p>
</dd>
<dt class="hdlist1"><code>--ita-invisible-in-index</code></dt>
<dd>
<p>По умолчанию записи, добавленные командой <code>git</code> <code>add</code> <code>-N</code>, отображаются в выводе <code>git</code> <code>diff</code> как существующий пустой файл, а в выводе git diff --cached` — как новый файл. Этот параметр делает так, что такие записи отображаются как новый файл в выводе <code>git</code> <code>diff</code> и отсутствовать в выводе <code>git</code> <code>diff</code> <code>--cached</code>. Этот параметр может быть переопределён с помощью <code>--ita-visible-in-index</code>. Оба эти параметра являются экспериментальными и могут быть удалены в будущем.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>См. <a href="gitdiffcore.html">gitdiffcore(7)</a> для более подробного описания этих общих параметров.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">-1 --base</dt>
<dt class="hdlist1">-2 --ours</dt>
<dt class="hdlist1">-3 --theirs</dt>
<dt class="hdlist1">-0</dt>
<dd>
<p>Сравнить с «базовой» версией, «нашей веткой» или «их веткой» соответственно. При передаче этих параметров различия в уже слитых записях не выводятся.</p>
<div class="paragraph">
<p>По умолчанию производится сравнение с нашей веткой (<code>-2</code>) и c включением уже начисто разрешённых путей. Параметр <code>-0</code> может быть указан, чтобы опускать вывод списка изменений для не слитых записей и вместо этого просто выводить «Unmerged» («Не слит»).</p>
</div>
</dd>
<dt class="hdlist1">-c</dt>
<dt class="hdlist1">--cc</dt>
<dd>
<p>Сравнивает индекс 2 (наша ветка), индекс 3 (их ветка) и файл в рабочем каталоге и выводит комбинированный список изменений, аналогично тому, как <code>diff-tree</code> с этими флагами отображает коммит слияния.</p>
</dd>
<dt class="hdlist1">-q</dt>
<dd>
<p>Не выводить ошибки даже если заданы несуществующие файлы.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_сырой_формат_вывода">Сырой формат вывода</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Сырой формат вывода команд <code>git-diff-index</code>, <code>git-diff-tree</code>, <code>git-diff-files</code> и <code>git</code> <code>diff</code> <code>--raw</code> очень похож.</p>
</div>
<div class="paragraph">
<p>Все эти команды сравнивают два набора объектов, но то, что именно они сравнивают, отличается:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>git-diff-index</code> &lt;указатель-дерева&gt;</dt>
<dd>
<p>cравнивает <em>&lt;указатель-дерева&gt;</em> и файлы в файловой системе.</p>
</dd>
<dt class="hdlist1"><code>git-diff-index</code> <code>--cached</code> &lt;указатель-дерева&gt;</dt>
<dd>
<p>сравнивает содержимое файлов по <em>&lt;указателю-дерева&gt;</em> и в индексе.</p>
</dd>
<dt class="hdlist1"><code>git-diff-tree</code> [<code>-r</code>] &lt;указатель-дерева-1&gt; &lt;указатель-дерева-2&gt; [&lt;шаблон&gt;...]</dt>
<dd>
<p>сравнивает деревья, на которые указывают два аргумента.</p>
</dd>
<dt class="hdlist1"><code>git-diff-files</code> [&lt;шаблон&gt;...]</dt>
<dd>
<p>сравнивает индекс и файлы в файловой системе.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Команда <code>git-diff-tree</code> начинает свой вывод с печати хеша того, что сравнивается. После чего она как и все остальные команды выводят информацию об изменённых файлах: по одной строке на файл.</p>
</div>
<div class="paragraph">
<p>Строки вывода выглядят следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>изменения           :100644 100644 bcd1234 0123456 M файл0
копирование-правка  :100644 100644 abcd123 1234567 C68 файл1 файл2
переимещение-правка :100644 100644 abcd123 1234567 R86 файл1 файл3
создание            :000000 100644 0000000 1234567 A файл4
удаление            :100644 000000 1234567 0000000 D файл5
не-слитый           :000000 000000 0000000 0000000 U файл6</pre>
</div>
</div>
<div class="paragraph">
<p>Где, слева направо идут:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>двоеточие (<code>:</code>).</p>
</li>
<li>
<p>режим доступа «исходного» состояния; 000000 при создании файла или когда он не слит.</p>
</li>
<li>
<p>пробел.</p>
</li>
<li>
<p>режим доступа «целевого» состояния; 000000 при удалении файла или когда он не слит.</p>
</li>
<li>
<p>пробел.</p>
</li>
<li>
<p>SHA1 для «исходного» состояния; 0{40} при создании файла или когда он не слит.</p>
</li>
<li>
<p>пробел.</p>
</li>
<li>
<p>SHA1 для «целевого» состояния; 0{40} при удалении файла, когда он не слит или когда рабочая копия не синхронизирована с индексом.</p>
</li>
<li>
<p>пробел.</p>
</li>
<li>
<p>статус за которым может следовать «рейтинг схожести» («score»).</p>
</li>
<li>
<p>табуляция или NUL-символ (с параметром <code>-z</code>).</p>
</li>
<li>
<p>«исходный» путь</p>
</li>
<li>
<p>табуляция или NUL-символ (с параметром <code>-z</code>); только для статусов C и R.</p>
</li>
<li>
<p>«целевой» путь; только для статусов C и R.</p>
</li>
<li>
<p>символ LF или NUL (с параметром <code>-z</code>), который завершает запись.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Возможные обозначения для статуса:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>A</code>: добавление файла (addition)</p>
</li>
<li>
<p><code>C</code>: копирование файла в новый (copy)</p>
</li>
<li>
<p>&#8216;D&#8217;: удаление файла (deletion)</p>
</li>
<li>
<p>&#8216;M&#8217;: изменение содержимого или режима доступа к файлу (modification)</p>
</li>
<li>
<p>&#8216;R&#8217;: переименование файла (renaming)</p>
</li>
<li>
<p><code>T</code>: изменение типа файла: обычный файл, символическая ссылка или подмодуль (type)</p>
</li>
<li>
<p><code>U</code>: файл не слит: вы должны будете завершить слияние, прежде чем будет возможно закоммитить файл (unmerged)</p>
</li>
<li>
<p><code>X</code>: «неизвестный» тип изменения (вероятно это ошибка, пожалуйста, сообщите о ней)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Статусы <code>C</code> и <code>R</code> всегда сопровождаются рейтингом схожести (обозначающим процент сходства между исходным и целевым состоянием при перемещении или копировании). Статус <code>M</code> также может сопровождаться рейтингом (обозначающим процент различий) для изменений файла.</p>
</div>
<div class="paragraph">
<p>Если файл в файловой системе ещё не синхронизирован с индексом, то SHA1 для «целевого» состояния будет отображается как строка из нулей.</p>
</div>
<div class="paragraph">
<p>Пример:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:100644 100644 5be4a4a 0000000 M файл.c</pre>
</div>
</div>
<div class="paragraph">
<p>Без параметра <code>-z</code> пути с «необычными» символами берутся в кавычки, как это описано для переменной конфигурации <code>core.quotePath</code> (см. <a href="git-config.html">git-config(1)</a>). С параметром <code>-z</code> имя файла выводится без изменений, а строка завершается байтом NUL.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_формат_списков_изменений_для_слияний">Формат списков изменений для слияний</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Команды <code>git-diff-tree</code>, <code>git-diff-files</code> и <code>git-diff</code> <code>--raw</code> принимают параметры <code>-c</code> или <code>--cc</code>, которые позволяют выводить списки изменений также и для коммитов слияний. Вывод отличается от описанного выше формата:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>для каждого родителя добавляется дополнительное двоеточие</p>
</li>
<li>
<p>добавляются дополнительные режимы и SHA1 для «исходных» состояний</p>
</li>
<li>
<p>статус представляет собой строку из символов статусов для каждого родителя</p>
</li>
<li>
<p>нет (необязательного) значения «рейтинга схожести» («score»)</p>
</li>
<li>
<p>несколько путей файлов, разделённых табуляциями</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Для параметров <code>-c</code> и <code>--cc</code> показываются только целевой или конечный путь к файлу, даже если файл был переименован в одном из предков. С <code>--combined-all-paths</code> будут также выводиться пути в каждом из родителей, за которыми последует путь в коммите слияния.</p>
</div>
<div class="paragraph">
<p>Примеры для <code>-c</code> и <code>--cc</code> без <code>--combined-all-paths</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       phooey.c</pre>
</div>
</div>
<div class="paragraph">
<p>Примеры, когда к <code>-c</code> или <code>--cc</code> добавляется <code>--combined-all-paths</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c  desc.c  desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       foo.sh  bar.sh  bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       fooey.c fuey.c  phooey.c</pre>
</div>
</div>
<div class="paragraph">
<p>Обратите внимание, что в «комбинированном» формате в списке изменений перечисляются только те файлы, которые были изменены относительно всех родителей.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generate_patch_text_with_p">Создание патчей с помощью -p</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Запуск команд <a href="git-diff.html">git-diff(1)</a>, <a href="git-log.html">git-log(1)</a>, <a href="git-show.html">git-show(1)</a>, <a href="git-diff-index.html">git-diff-index(1)</a>, <a href="git-diff-tree.html">git-diff-tree(1)</a>, или <a href="git-diff-files.html">git-diff-files(1)</a> с параметром <code>-p</code> выдаёт текст патча. Вы можете изменить некоторые аспекты этого создаваемого текста с помощью переменных окружения <code>GIT_EXTERNAL_DIFF</code> и <code>GIT_DIFF_OPTS</code> (см. <a href="git.html">git(1)</a>), а также атрибута <code>diff</code> (см. <a href="gitattributes.html">gitattributes(5)</a>).</p>
</div>
<div class="paragraph">
<p>Тот текст, которые получается на выходе при запуске с параметром <code>-p</code>, немного отличается от традиционного формата списка изменений:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В начале идёт заголовок «git diff», который выглядит следующим образом:</p>
<div class="literalblock">
<div class="content">
<pre>diff --git a/файл1 b/файл2</pre>
</div>
</div>
<div class="paragraph">
<p>Имена файлов <code>a/</code> и <code>b/</code> одинаковы, если изменения не связаны с переименованием или копированием. В частности, даже для создания или удаления вместо имён файлов <code>a/</code> или <code>b/</code> <em>не</em> используется <code>/dev/null</code> .</p>
</div>
<div class="paragraph">
<p>Когда же изменения являются переименование или копирование, <code>file1</code> и <code>file2</code> отображают имена исходного файла и того, который получается в результате переименования/копирования, соответственно.</p>
</div>
</li>
<li>
<p>Далее следуют одна или несколько строк расширенного заголовка:</p>
<div class="verseblock">
<pre class="content"><code>old</code> <code>mode</code> <em>&lt;режим&gt;</em>
<code>new</code> <code>mode</code> <em>&lt;режим&gt;</em>
<code>deleted</code> <code>file</code> <code>mode</code> <em>&lt;режим&gt;</em>
<code>new</code> <code>file</code> <code>mode</code> <em>&lt;режим&gt;</em>
<code>copy</code> <code>from</code> <em>&lt;путь&gt;</em>
<code>copy</code> <code>to</code> <em>&lt;путь&gt;</em>
<code>rename</code> <code>from</code> <em>&lt;путь&gt;</em>
<code>rename</code> <code>to</code> <em>&lt;путь&gt;</em>
<code>similarity</code> <code>index</code> <em>&lt;число&gt;</em>
<code>dissimilarity</code> <code>index</code> <em>&lt;число&gt;</em>
<code>index</code> <em>&lt;хеш&gt;</em>`..`<em>&lt;хеш&gt;</em> <em>&lt;режим&gt;</em></pre>
</div>
<div class="paragraph">
<p>Режимы файлов <em>`&lt;режим&gt;`</em> печатаются как 6-значные восьмеричные числа, включающие тип файла и биты разрешений.</p>
</div>
<div class="paragraph">
<p>Пути в расширенных заголовках не включают префиксы <code>a/</code> и <code>b/</code>.</p>
</div>
<div class="paragraph">
<p>Индекс сходства — это процент не изменённых строк, а индекс различия — процент изменённых. Он представляет собой округлённое вниз целое число, за которым следует знак процента. Индекс сходства в 100% зарезервирован для двух абсолютно одинаковых файлов, а 100% различий означает, что ни одна строка из старого файла не вошла в новый.</p>
</div>
<div class="paragraph">
<p>Строка индекса включает имена бинарных объектов до и после изменения. Строка <em>&lt;режима&gt;</em> добавляется, если режим файла не был изменён; в противном случае старый и новый режимы приводятся в отдельных строках.</p>
</div>
</li>
<li>
<p>Путей с «необычными» символами берутся в кавычки, как это описано для переменной конфигурации <code>core.quotePath</code> (см. <a href="git-config.html">git-config(1)</a>).</p>
</li>
<li>
<p>Все файлы файл1 в выводе относятся к файлам до коммита, а все файлы файл2 — к файлам после коммита. Неправильно было бы применять каждое изменение к каждому файлу последовательно. Например, следующий патч поменяет местами <code>a</code> и <code>b</code>:</p>
<div class="literalblock">
<div class="content">
<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>
</div>
</div>
</li>
<li>
<p>Заголовки отдельных блоков изменений упоминают имя функции, к которой применяется этот блок. См. подробности, о том, как это можно адаптировать для конкретного языка программирования в разделе «Определение пользовательского заголовка блока» в <a href="gitattributes.html">gitattributes(5)</a>.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_комбинированный_формат_списков_изменений">Комбинированный формат списков изменений</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Любая команда, выводящая список изменений, принимает параметры <code>-c</code> или <code>--cc</code>, которые приводят к созданию списка изменений для слияний в «комбинированном» формате («combined diff»). Это формат по умолчанию при выводе слияний с помощью <a href="git-diff.html">git-diff(1)</a> или <a href="git-show.html">git-show(1)</a>. Также обратите внимание, что для того, чтобы заставить эти команды выводить списки изменений в каком-либо другом формате, можно использовать параметр <code>--diff-merges</code> с соответствующими аргументами.</p>
</div>
<div class="paragraph">
<p>Комбинированный формат списков изменений выглядит следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
        return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +      unsigned char sha1[20];
 +      struct commit *cmit;
        struct commit_list *list;
        static int initialized = 0;
        struct commit_name *n;

 +      if (get_sha1(arg, sha1) &lt; 0)
 +              usage(describe_usage);
 +      cmit = lookup_commit_reference(sha1);
 +      if (!cmit)
 +              usage(describe_usage);
 +
        if (!initialized) {
                initialized = 1;
                for_each_ref(get_name);</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>В начале идёт заголовок «git diff», который выглядит следующим образом (при использовании параметра <code>-c</code>):</p>
<div class="literalblock">
<div class="content">
<pre>diff --combined файл</pre>
</div>
</div>
<div class="paragraph">
<p>или следующим (при использовании параметра <code>--cc</code>):</p>
</div>
<div class="literalblock">
<div class="content">
<pre>diff --cc файл</pre>
</div>
</div>
</li>
<li>
<p>Далее следуют одна или несколько строк расширенного заголовка (в данном примере показано слияние с двумя родителями):</p>
<div class="verseblock">
<pre class="content"><code>index</code> <em>&lt;хеш&gt;</em><code>,</code><em>&lt;хеш&gt;</em>`..<code>__</code>&lt;хеш&gt;<code>__</code>
{empty}`mode <em>&lt;режим&gt;</em><code>,</code><em>&lt;режим&gt;</em>``..``<em>&lt;режим&gt;</em>
<code>new</code> <code>file</code> <code>mode</code> <em>&lt;режим&gt;</em>
<code>deleted</code> <code>file</code> <code>mode</code> <em>&lt;режим&gt;</em><code>,</code><em>&lt;режим&gt;</em></pre>
</div>
<div class="paragraph">
<p>Строка <code>mode</code> &lt;режим&gt;<code>,</code>&lt;режим&gt;<code>..</code>&lt;режим&gt; присутствует только если хотя бы один из &lt;режимов&gt; отличается от остальных. Расширенные заголовки с информацией о найденных перемещениях содержимого (обнаруженных переименованиях и копированиях) предназначены для работы только со списком изменений строго двух <em>&lt;указателей-дерева&gt;</em> и не используются в комбинированном формате.</p>
</div>
</li>
<li>
<p>Далее следуют две строки заголовка, с указанием исходного и целевого файлов (из-файла/в-файл):</p>
<div class="literalblock">
<div class="content">
<pre>--- a/файл
+++ b/файл</pre>
</div>
</div>
<div class="paragraph">
<p>Аналогично тому как это делается и в традиционном формате объединённого («unified») списка изменений, <code>/dev/null</code> используется для обозначения созданных или удалённых файлов.</p>
</div>
<div class="paragraph">
<p>Однако, если задан параметр <code>--combined-all-paths</code>, то вместо этих двух строк заголовка с из-файла/в-файл, вы получите расширенный заголовок из N+1 строки, где N — это количество родителей в коммите слияния:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>--- a/файл
--- a/файл
--- a/файл
+++ b/файл</pre>
</div>
</div>
<div class="paragraph">
<p>Этот расширенный формат может быть полезен, если у вас включено обнаружение переименований и копирований, так как это позволяет увидеть, как назывался файл в разных родителях до слияния.</p>
</div>
</li>
<li>
<p>Формат заголовка блока списка изменений был специально модифицирован, чтобы предотвратить случайное применение его с помощью <code>patch</code> <code>-p1</code>. Комбинированный формат списков изменений был создан для рецензирования изменений в коммитах слияния и не предназначен для прямого применения в виде патчей. Эти модификации аналогичны тем, что были сделаны в расширенном заголовке <code>index</code>:</p>
<div class="literalblock">
<div class="content">
<pre>@@@ &lt;исходный-диапазон&gt; &lt;исходный-диапазон&gt; &lt;результирующий-диапазон&gt; @@@</pre>
</div>
</div>
<div class="paragraph">
<p>В заголовке блока для комбинированного формата (количество родителей + 1) символов <code>@</code>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>В отличие традиционном объединённого («unified») формата списка изменений, который показывает разницу между двумя файлами А и Б с одной колонкой, в которой содержится или <code>-</code> (минус — строка есть в А, но удалена в Б), или <code>+</code> (плюс — нет в А, но добавлена в Б), или " " (пробел — без изменений), этот формат сравнивает два или более файла файл1, файл2,&#8230;&#8203; с одним файлом Х и показывает, чем Х отличается от каждого из файлов файлN. Так что по одному столбцу для каждого из файлов файлN добавляется в начало строк вывода, чтобы дать понять, как строки в Х отличается от строк в этих файлах.</p>
</div>
<div class="paragraph">
<p>Символ <code>-</code> в столбце N означает, что строка была в файле файлN, но ей нет в итоговом документе. Символ <code>+</code> в столбце N — что строка есть в итоговом документе, но её нет в файле файлN (т.е. с точки зрения этого родителя строка была добавлена).</p>
</div>
<div class="paragraph">
<p>В примере выше сигнатура функции была изменена в обоих файлах (следовательно, в примере два удаления из каждого из файлов файл1 и файл2, кроме того <code>++</code> означает что была добавлена одна строка, которая не появляется ни в файл1, ни в файл1). Также из файла файл1 были взяты восемь других строк, которых не было в файле файл2 (так что они помечены плюсом <code>+</code>).</p>
</div>
<div class="paragraph">
<p>Когда этот формат выводится командой <code>git</code> <code>diff-tree</code> <code>-c</code>, она сравнивает родителей коммита слияния с результатом слияния (т.е. файл1..файлN — это родители). А в выводе команды <code>git</code> <code>diff-files</code> <code>-c</code> сравниваются файлы в двух родителях неразрешённого слияния с файлом в рабочем каталоге (т.е. файл1 — это индекс 2, или «наша версия», файл2 — это индекс 3, или «их версия»).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_другие_форматы_списка_изменений">Другие форматы списка изменений</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Параметр <code>--summary</code> выводит, какие файлы были созданы, удалены, переименованы и скопированы. А параметром <code>--stat</code> добавляет к выходу графики <code>diffstat</code>(1). Эти параметры могут использоваться совместно с другими, такими как <code>-p</code>, а их вывод предназначен для чтения человеком.</p>
</div>
<div class="paragraph">
<p>Когда отображаются изменения, связанное с переименованием или копированием, вывод <code>--stat</code> компактно форматирует пути, объединяя их общие префиксы и суффиксы. Например, если файл <code>arch/i386/Makefile</code> был перемещён в <code>arch/x86/Makefile</code> с изменением 4-х строк, это будет отображено как:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>arch/{i386 =&gt; x86}/Makefile    |   4 +--</pre>
</div>
</div>
<div class="paragraph">
<p>Параметр <code>--numstat</code> также выдаёт информацию в виде <code>diffstat</code>(1), но его вывод больше подходит для машинного чтения. Запись в выводе <code>--numstat</code> выглядит как:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1       2       README
3       1       arch/{i386 =&gt; x86}/Makefile</pre>
</div>
</div>
<div class="paragraph">
<p>Где, слева направо идут:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>rоличество добавленных строк;</p>
</li>
<li>
<p>табуляция;</p>
</li>
<li>
<p>количество удалённых строк;</p>
</li>
<li>
<p>табуляция;</p>
</li>
<li>
<p>путь (возможно с информацией о переименовании/копировании);</p>
</li>
<li>
<p>символ перехода на новую строку.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Если также используется параметр <code>-z</code>, то вывод форматируется следующим образом:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1       2       README NUL
3       1       NUL arch/i386/Makefile NUL arch/x86/Makefile NUL</pre>
</div>
</div>
<div class="paragraph">
<p>Где:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>rоличество добавленных строк;</p>
</li>
<li>
<p>табуляция;</p>
</li>
<li>
<p>количество удалённых строк;</p>
</li>
<li>
<p>табуляция;</p>
</li>
<li>
<p>NUL-символ (только для переименований/копирований);</p>
</li>
<li>
<p>путь исходного состояния;</p>
</li>
<li>
<p>NUL-символ (только для переименований/копирований);</p>
</li>
<li>
<p>пути целевого состояния (только для переименований/копирований);</p>
</li>
<li>
<p>NUL-символ.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Дополнительный NUL-символ перед именем пути исходного файла в случае переименования позволяет сценариям, которые читают этот вывод, определить, содержит ли текущая запись только один путь или является записью переименования/копирования (с двумя путями), не прибегая к упреждающему чтению. После чтения количества добавленных и удалённых строк чтение до NUL-символа в обычной ситуации выдаёт путь к файлу, но если он оказывается пустым, то это означает, что в записи есть два пути.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git">GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Является частью пакета <a href="git.html">git(1)</a></p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2025-03-23 12:03:50 +0100
</div>
</div>
</body>
</html>