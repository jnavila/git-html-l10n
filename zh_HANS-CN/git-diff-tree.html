<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta name="generator" content="Asciidoctor 2.0.20"/>
<title>git-diff-tree(1)</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"/>
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="manpage">
<div id="header">
<h1>git-diff-tree(1) Manual Page</h1>
<h2 id="_名称">名称</h2>
<div class="sectionbody">
<p>git-diff-tree - 比较通过两个树对象找到的 Blob 的内容和模式</p>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_概述">概述</h2>
<div class="sectionbody">
<div class="verseblock">
<pre class="content"><em>git diff-tree</em> [--stdin] [-m] [-s] [-v] [--no-commit-id] [--pretty]
              [-t] [-r] [-c | --cc] [--combined-all-paths] [--root] [--merge-base]
              [&lt;common-diff-options&gt;] &lt;目录树对象&gt; [&lt;目录树对象&gt;] [&lt;路径&gt;&#8230;&#8203;]</pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_描述">描述</h2>
<div class="sectionbody">
<div class="paragraph">
<p>比较两个目录树对象中发现的 blob 的内容和模式。</p>
</div>
<div class="paragraph">
<p>如果只给出一个 &lt;目录树对象&gt;，则会将该提交与其父提交进行比较（见下文的 --stdin）。</p>
</div>
<div class="paragraph">
<p>请注意，<em>git diff-tree</em> 可以使用封装在提交对象中的树。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_选项">选项</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">-p</dt>
<dt class="hdlist1">-u</dt>
<dt class="hdlist1">--patch</dt>
<dd>
<p>生成补丁（请参阅 <a href="#generate_patch_text_with_p">使用选项 <code>-p</code> 生成补丁文本</a> ）。</p>
</dd>
<dt class="hdlist1">-s</dt>
<dt class="hdlist1">--no-patch</dt>
<dd>
<p>抑制差异（diff）工具的所有输出。 对于默认显示补丁的 <code>git show</code> 等命令，可以压制其输出，或在别名中取消命令行中的 <code>--patch</code>、<code>--stat</code> 等选项的效果。</p>
</dd>
<dt class="hdlist1">-U&lt;n&gt;</dt>
<dt class="hdlist1">--unified=&lt;n&gt;</dt>
<dd>
<p>生成带有 &lt;n&gt; 行上下文的差异，而不是通常的 3 行。暗含 <code>--patch</code> 选项。
暗含 <code>--patch</code> 选项。</p>
</dd>
<dt class="hdlist1">--output=&lt;文件&gt;</dt>
<dd>
<p>输出到一个特定的文件，而不是标准输出。</p>
</dd>
<dt class="hdlist1">--output-indicator-new=&lt;字符&gt;</dt>
<dt class="hdlist1">--output-indicator-old=&lt;字符&gt;</dt>
<dt class="hdlist1">--output-indicator-context=&lt;字符&gt;</dt>
<dd>
<p>指定在生成的补丁中用来表示新、旧或上下文行的字符。通常它们分别是 <em>+</em>、<em>-</em> 和 ' '（空格）。</p>
</dd>
<dt class="hdlist1">--raw</dt>
<dd>
<p>生成原始格式的差异。
这是默认设置。</p>
</dd>
<dt class="hdlist1">--patch-with-raw</dt>
<dd>
<p><code>-p--raw</code> 的同义词。</p>
</dd>
<dt class="hdlist1">--indent-heuristic</dt>
<dd>
<p>启用启发式的缩进区块的方法，使得补丁更易读。这是默认选项。</p>
</dd>
<dt class="hdlist1">--no-indent-heuristic</dt>
<dd>
<p>禁用启发式缩进。</p>
</dd>
<dt class="hdlist1">--minimal</dt>
<dd>
<p>花费额外的时间以确保生成尽可能小的差异。</p>
</dd>
<dt class="hdlist1">--patience</dt>
<dd>
<p>使用 "patience diff" 算法生成差异。</p>
</dd>
<dt class="hdlist1">--histogram</dt>
<dd>
<p>使用 "histogram diff" 算法生成差异。</p>
</dd>
<dt class="hdlist1">--anchored=&lt;文本&gt;</dt>
<dd>
<p>使用 "anchored diff" 算法生成差异。</p>
<div class="paragraph">
<p>这个选项可以被指定多次。</p>
</div>
<div class="paragraph">
<p>如果某一个行同时存在于来源和目标中，各只出现一次，以这个文本开头，这个算法试图防止它在输出中以删除或添加的形式出现。它在内部使用了 "patience diff" 算法。</p>
</div>
</dd>
<dt class="hdlist1">--diff-algorithm={patience|minimal|histogram|myers}</dt>
<dd>
<p>选择差异算法。有如下可选项：</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>default</code>, <code>myers</code></dt>
<dd>
<p>基本的贪婪差异算法。当前是默认设置。</p>
</dd>
<dt class="hdlist1"><code>minimal</code></dt>
<dd>
<p>花费额外的时间以确保生成尽可能小的差异。</p>
</dd>
<dt class="hdlist1"><code>patience</code></dt>
<dd>
<p>使用 "patience diff" 算法时产生的补丁。</p>
</dd>
<dt class="hdlist1"><code>histogram</code></dt>
<dd>
<p>该算法将耐心算法扩展为 “支持低发生率的常见元素”。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>例如，如果你将 <code>diff.algorithm</code> 变量配置为非默认值，但希望使用默认值，那么你必须使用 <code>--diff-algorithm=default</code> 选项。</p>
</div>
</dd>
<dt class="hdlist1">--stat[=&lt;宽度&gt;[,&lt;名称宽度&gt;[,&lt;数值&gt;]]]</dt>
<dd>
<p>生成差异统计（diffstat）。默认情况下，文件名部分将使用尽可能多的空间，其余空间用于图表部分。最大宽度默认为终端宽度，如果未连接终端，则为 80 列，可以用 <code>&lt;最大宽度&gt;`覆盖。文件名部分的宽度可以通过在逗号后另加宽度 `&lt;文件名宽度&gt;`或设置 `diff.statNameWidth=&lt;文件名宽度&gt;`来限制。图形部分的宽度可以通过使用 `--stat-graph-width=&lt;图形宽度&gt;`或设置 `diff.statGraphWidth=&lt;图像宽度&gt;</code> 来限制。使用 <code>--stat</code> 或 <code>--stat-graph-width</code> 选项会影响所有生成统计图的命令，而设置 <code>diff.statNameWidth</code> 或 <code>diff.statGraphWidth</code> 则不会影响 <code>git format-patch</code>。 通过给出第三个参数 <code>&lt;行数&gt;</code>，可以将输出限制在前 <code>&lt;行数&gt;`行，如果行数更多，则在后面加上 `...</code>。</p>
<div class="paragraph">
<p>这些参数也可以用 <code>--stat-width=&lt;宽度&gt;</code>，<code>--stat-name-width=&lt;名称宽度&gt;</code> 和 <code>--stat-count=&lt;数量&gt;</code> 单独设置。</p>
</div>
</dd>
<dt class="hdlist1">--compact-summary</dt>
<dd>
<p>在差异状态中输出扩展头信息的压缩摘要，如文件的创建或删除（"new" 或 "good"。如果是符号链接，则为 "+l"）和模式变化（"+x" 或 "-x" 分别用于添加或删除可执行位）。这些信息被放在文件名部分和图形部分之间。暗含 <code>--stat</code> 选项。</p>
</dd>
<dt class="hdlist1">--numstat</dt>
<dd>
<p>类似于 <code>--stat</code>，但是使用小数点和不含缩写的路径名显示添加和删除的行数，使其对程序更友好。对于二进制文件，输出两个 <code>-</code>，而不是 <code>0 0</code>。</p>
</dd>
<dt class="hdlist1">--shortstat</dt>
<dd>
<p>只输出使用 <code>--stat</code> 选项输出的最后一行，包含修改的文件总数，添加和删除的行数。</p>
</dd>
<dt class="hdlist1">-X[&lt;参数1,参数2,&#8230;&#8203;&gt;]</dt>
<dt class="hdlist1">--dirstat[=&lt;参数1,参数2,&#8230;&#8203;&gt;]</dt>
<dd>
<p>输出每个子目录的相对变化量的分布。<code>--dirstat</code> 的行为可以通过传递一个以逗号分隔的参数列表来自定义。默认值由`diff.dirstat` 配置变量控制 (参见 <a href="git-config.html">git-config(1)</a>)。以下是可用的参数：</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1"><code>changes</code></dt>
<dd>
<p>通过计算从源文件中删除的行数或添加到目标文件中的行数来计算分布状态的数字。这忽略了文件内的代码移动行为。也就是说，在文件中重新排列的行不会像其他变化一样被计算在内。这是在没有给出参数时的默认行为。</p>
</dd>
<dt class="hdlist1"><code>lines</code></dt>
<dd>
<p>通过做常规基于行的差异分析，计算分布状态的数字，并将删除/添加的行数相加。(对于二进制文件，用 64 字节的块来计算，因为二进制文件没有行的概念)。在使用 <code>--dirstat</code> 时这个选项的行为开销比 <code>changes</code> 更大，但会对文件中重新排列的行进行计数。其得到的输出结果与其他的 <code>--*stat</code> 选项一致。</p>
</dd>
<dt class="hdlist1"><code>files</code></dt>
<dd>
<p>通过计算被改变的文件数量来计算分布状态的数字。在分布状态分析中，每一个被改变的文件都会被平等地计算。这是计算上开销最小的 <code>--dirstat</code> 行为，因为它无需查看文件内容。</p>
</dd>
<dt class="hdlist1"><code>cumulative</code></dt>
<dd>
<p>子目录中的变化计算到父目录中。 注意，当使用 <code>cumulative</code> 选项时，报告的百分比之和可能超过 100%。默认的（非累积）行为可以用 <code>noncumulative</code> 参数指定。</p>
</dd>
<dt class="hdlist1">&lt;limit&gt;</dt>
<dd>
<p>一个整数参数，其指定一个截止百分比（默认为 3%）。贡献值小于这个百分比的目录不显示在输出中。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>例如：下面的参数会统计更改的文件，同时忽略占更改文件总数 10% 以下的目录，并累积父目录中的子目录计数：<code>--dirstat=files,10,cumulative</code>。</p>
</div>
</dd>
<dt class="hdlist1">--cumulative</dt>
<dd>
<p>--dirstat=cumulative 同义</p>
</dd>
<dt class="hdlist1">--dirstat-by-file[=&lt;参数1,参数2&gt;&#8230;&#8203;]</dt>
<dd>
<p>与 --dirstat=files,&lt;参数 1&gt;,&lt;参数 2&gt; 同义</p>
</dd>
<dt class="hdlist1">--summary</dt>
<dd>
<p>输出扩展头信息，如创建、重命名和模式变化等，的压缩摘要。</p>
</dd>
<dt class="hdlist1">--patch-with-stat</dt>
<dd>
<p>同义词 <code>-p --stat</code>。</p>
</dd>
<dt class="hdlist1">-z</dt>
<dd>
<p>另外，当给出 <code>--raw</code>、<code>--numstat</code>、 <code>--name-only</code> 或 <code>--name-status</code> 选项时，
不合并路径名，并使用 NUL 作为输出字段终止符。</p>
<div class="paragraph">
<p>如果没有这个选项，带 “不常见” 字符的路径名会被引用，正如配置变量 <code>core.quotePath</code> 所解释的那样（参见 <a href="git-config.html">git-config(1)</a>）。</p>
</div>
</dd>
<dt class="hdlist1">--name-only</dt>
<dd>
<p>只显示更改过的文件的名称。文件名通常以 UTF-8 编码。 更多信息见 <a href="git-log.html">git-log(1)</a> 手册页中关于编码的讨论。</p>
</dd>
<dt class="hdlist1">--name-status</dt>
<dd>
<p>仅显示已更改文件的名称和状态。有关状态字母的含义，请参阅 <code>--diff-filter</code> 选项的说明。 与 <code>--name-only</code> 一样，文件名通常使用 UTF-8 编码。</p>
</dd>
<dt class="hdlist1">--submodule[=&lt;格式&gt;]</dt>
<dd>
<p>指定子模块中的差异如何显示。当指定 <code>--submodule=short</code> 选项时，会使用 <em>short</em> 格式。这种格式只显示范围的开头和结尾处的提交名称。当指定了 <code>--submodule</code> 或 <code>--submodule=log</code> 时，会使用 <em>log</em> 格式。这种格式会像 <a href="git-submodule.html">git-submodule(1)</a> <code>summary</code> 那样，列出该范围内的提交。当指定了 <code>--submodule=diff</code> 时，会使用 <em>diff</em> 格式。这个格式显示的是子模块内在提交范围之间的变化差异。默认为 <code>diff.submodule</code>，如果配置选项未设置， 则为 <code>short</code> 格式。</p>
</dd>
<dt class="hdlist1">--color[=&lt;when&gt;]</dt>
<dd>
<p>显示有颜色的差异。<code>--color</code>（即不含 <em>=&lt;何时&gt;</em>）与 <code>--color=always</code> 相同。<em>&lt;何时&gt;</em> 可以是 <code>always</code>、<code>never</code> 或 <code>auto</code>。</p>
</dd>
<dt class="hdlist1">--no-color</dt>
<dd>
<p>关掉带彩色显示的差异。
这和 <code>--color=never</code> 相同。</p>
</dd>
<dt class="hdlist1">--color-moved[=&lt;模式&gt;]</dt>
<dd>
<p>移动的代码行的颜色不同。
如果没有给出该选项，&lt;模式&gt; 默认为 <em>no</em>
如果没有给定模式选项，则为 <em>zebra</em>。
该模式必须以下其中之一：</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">no</dt>
<dd>
<p>被移动的行不突出显示。</p>
</dd>
<dt class="hdlist1">default</dt>
<dd>
<p>是 <code>zebra</code> 的同义词。今后可能会改成更合理的模式。</p>
</dd>
<dt class="hdlist1">plain</dt>
<dd>
<p>任何在某个位置被添加，且在另一个位置被删除的行，都会被用 <em>color.diff.newMoved</em> 着色。同样的，在差异中在某处删除且在其它地方添加的行会使用 <em>color.diff.oldMoved</em> 着色。这种模式可以读取任何被移动的行，但在代码审查中，它不能确定一个代码块是否未经排列而进行了移动。</p>
</dd>
<dt class="hdlist1">blocks</dt>
<dd>
<p>使用贪心方法检测含至少 20 个字母数字字符的移动文本块。检测到的区块使用 <em>color.diff.{old,new}Moved</em> 的颜色。相邻的区块不能被区分开。</p>
</dd>
<dt class="hdlist1">zebra</dt>
<dd>
<p>在 ‘块’ 模式下检测到移动的文本块。块使用 <em>color.diff.{old,new}Moved</em> 颜色或 <em>color.diff.{old,new}MovedAlternative</em> 颜色。这两种颜色之间的变化表示检测到了新的块。</p>
</dd>
<dt class="hdlist1">dimmed-zebra</dt>
<dd>
<p>类似于 <em>zebra</em> 模式，但对使移动的代码中不关注的部分变暗。相邻两个区块的边界线被认为是重要，其余的部分是无关紧要的。<code>dimmed_zebra</code> 是一个被废弃的同义词。</p>
</dd>
</dl>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">--no-color-moved</dt>
<dd>
<p>关闭移动检测。这可以用来覆盖配置设置。它与 <code>--color-moved=no</code> 相同。</p>
</dd>
<dt class="hdlist1">--color-moved-ws=&lt;模式&gt;</dt>
<dd>
<p>这将配置在执行 <code>--color-moved</code> 选项的移动检测时如何忽略空格。
这些模式可以通过以逗号分隔的列表给出：</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">no</dt>
<dd>
<p>执行移动检测时不忽略空格。</p>
</dd>
<dt class="hdlist1">ignore-space-at-eol</dt>
<dd>
<p>忽略行尾空格的变化。</p>
</dd>
<dt class="hdlist1">ignore-space-change</dt>
<dd>
<p>忽略空格数量的变化。这会忽略行尾的空格，并认为包含一个或多个空格字符的其他序列都是等同的。</p>
</dd>
<dt class="hdlist1">ignore-all-space</dt>
<dd>
<p>比较行时忽略空格。即使一行有空格而另一行没有空格，也会忽略差异。</p>
</dd>
<dt class="hdlist1">allow-indentation-change</dt>
<dd>
<p>在最初移动检测中忽略的任何空格，然后只在每行的空格变化相同的情况下，将移动的代码块归为一个块。这与其他模式是不兼容的。</p>
</dd>
</dl>
</div>
</div>
</div>
</dd>
<dt class="hdlist1">--no-color-moved-ws</dt>
<dd>
<p>执行移动检测时，不忽略空格。这可以用来覆盖配置。它与 <code>--color-moved-ws=no</code> 相同。</p>
</dd>
<dt class="hdlist1">--word-diff[=&lt;模式&gt;]</dt>
<dd>
<p>显示词的差异，用 &lt;模式&gt; 来分隔已更改的词。默认情况下，单词是以空格分隔；请参考 <code>--word-diff-regex</code>。&lt;模式&gt; 默认为 <code>plain</code>，并且必须是以下其中之一：</p>
<div class="openblock">
<div class="content">
<div class="dlist">
<dl>
<dt class="hdlist1">color</dt>
<dd>
<p>只用颜色突出显示已更改的单词。暗含 <code>--color</code> 选项。</p>
</dd>
<dt class="hdlist1">plain</dt>
<dd>
<p>显示更改的词为 <code>[-removed-]</code> 和 <code>{+added+}</code>。如果在输入中出现定界符，则不尝试转义，所以输出可能是多义的。</p>
</dd>
<dt class="hdlist1">porcelain</dt>
<dd>
<p>使用一种特殊的、基于行的格式，供脚本使用。添加/删除/未更改的运行数据以通常的统一的差异格式输出，行的开头以 <code>+</code> / <code>-</code> / ` ` 字符开始，一直到行的结尾。输入中的新行用单行上的 `~`表示。</p>
</dd>
<dt class="hdlist1">none</dt>
<dd>
<p>再次禁用单词差异模式。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="paragraph">
<p>请注意，无论第一个模式的名称是什么，如果启用该选项，将在所有模式中使用颜色，以高亮显示更改的部分。</p>
</div>
</dd>
<dt class="hdlist1">--word-diff-regex=&lt;正则表达式&gt;</dt>
<dd>
<p>使用 &lt;正则表达式&gt; 来确定单词的格式，而不是将一串非空白行视为单词。除非已启用，否则还暗含 <code>--word-diff</code> 选项。</p>
<div class="paragraph">
<p>&lt;正则表达式&gt; 匹配的的每一个非重叠的匹配都被视为一个单词。在这些匹配项之间的任何内容都被认为是空白，并且在查找差异时被忽略(!)。您可能需要在您的正则表达式中附加 <code>|[^[:space:]]</code>，以确保它匹配所有非空格字符。包含换行的匹配会在换行处被截断(!)。</p>
</div>
<div class="paragraph">
<p>例如，<code>--word-diff-regex=.</code> 将把每个字符当作一个单词，并相应地逐个字符显示差异。</p>
</div>
<div class="paragraph">
<p>正则表达式也可以通过差异程序或配置选项来设置，参见 <a href="gitattributes.html">gitattributes(5)</a> 或 <a href="git-config.html">git-config(1)</a>。显式指明会覆盖任何程序或配置。差异程序会覆盖配置。</p>
</div>
</dd>
<dt class="hdlist1">--color-words[=&lt;正则表达式&gt;]</dt>
<dd>
<p>与 <code>--word-diff=color</code> 和（如果指明了正则表达式）<code>--word-diff-regex=&lt;正则表达式&gt;</code> 两个选项含义相同。</p>
</dd>
<dt class="hdlist1">--no-renames</dt>
<dd>
<p>关闭重命名检测，即使配置文件给出的默认是这样做。</p>
</dd>
<dt class="hdlist1">--[no-]rename-empty</dt>
<dd>
<p>是否使用空的数据对象作为重命名源。</p>
</dd>
<dt class="hdlist1">--check</dt>
<dd>
<p>如果更改引入冲突标记或空格错误，则发出警告。哪些被认为是空格错误是由 <code>core.whitespace</code> 配置控制的。默认情况下，行尾部的空格字符（包括仅由空格字符组成的行）和紧跟在行初缩进内 tab 字符后的空格字符，都被认为是空格字符错误。如果发现问题，则以非零状态退出。与 --exit-code 选项不兼容。</p>
</dd>
<dt class="hdlist1">--ws-error-highlight=&lt;种类&gt;</dt>
<dd>
<p>突出显示差异中 <code>context</code>（上下文）、<code>old</code>（旧）或 <code>new</code>（新）行中的空格错误。多个值用逗号隔开，<code>none</code> 选项会重置以前的值，<code>default</code> 重置列表为 <code>new</code>，<code>all</code> 是 <code>old,new,context</code> 的简写。当没有给定这个选项，并且配置变量 <code>diff.wsErrorHighlight</code> 没有设置时，只有 <code>new</code> 行中的空格错误会被高亮显示。空格错误会用 <code>color.diff.whitespace</code> 配置进行着色。</p>
</dd>
<dt class="hdlist1">--full-index</dt>
<dd>
<p>在生成补丁格式输出时，在 <code>index</code>（索引）行上显示完整的图像前和图像后数据对象名称，而不仅是前几个字符。</p>
</dd>
<dt class="hdlist1">--binary</dt>
<dd>
<p>除了 <code>--full-index</code> 输出的差异之外，输出二进制的差异。其可以用 <code>git-apply</code> 命令来应用。暗含 <code>--patch</code> 选项。
暗含 <code>--patch</code> 选项。</p>
</dd>
<dt class="hdlist1">--abbrev[=&lt;n&gt;]</dt>
<dd>
<p>在 diff-raw 格式输出和 diff-tree 头文件行中，不显示完整的 40 字节十六进制对象名称，而是显示唯一指向对象的最短前缀，长度至少为 <em>&lt;n&gt;</em> 位十六进制数字。 在 diff-patch 输出格式中，<code>--full-index</code> 优先，也就是说，如果指定了 <code>--full-index</code>，则无论 <code>--abbrev</code> 如何，都会显示完整的 blob 名称。 可以使用 <code>--abbrev=&lt;n&gt;</code> 指定非默认位数。</p>
</dd>
<dt class="hdlist1">-B[&lt;n&gt;][/&lt;m&gt;]</dt>
<dt class="hdlist1">--break-rewrites[=[&lt;n&gt;][/&lt;m&gt;]]</dt>
<dd>
<p>将完整的重写更改切分成删除和创建对（pair）。这有两个目的：</p>
<div class="paragraph">
<p>它会影响决定更改形式的阈值，当单个文件内修改总量达到一定值时，会认为该文件进行了完全重写，而不是将一系列删除和插入操作视为修改。如果视为多个删除和插入修改，修改中的行可能会碰巧在文本上与原文一致，从而被当作上下文。选项中的数字 <code>m</code> 控制 -B 选项的这一方面（默认为 60％）。<code>-B/70％</code> 表示，如果在结果中保留的原始内容少于原始内容的30％，则 Git 认为它是完全重写的（否则，生成的补丁将是一系列删除和插入，并与上下文行混合在一起）。</p>
</div>
<div class="paragraph">
<p>使用 -M 选项时，一个完全改写的文件也被认为是重命名文件的来源（通常 -M 只考查一个消失文件作为重命名的来源)。选项中的数量 <code>n</code> 控制 -B 选项的这一方面（默认为 50％)。<code>-B20%</code> 表明，当插入与删除比 20％ 的文件大小更多，该文件可作为重命名到另一文件的可能来源。</p>
</div>
</dd>
<dt class="hdlist1">-M[&lt;n&gt;]</dt>
<dt class="hdlist1">--find-renames[=&lt;n&gt;]</dt>
<dd>
<p>重命名检测。
如果指定了 <code>n</code>，则其为相似度指数阈值（即相比于文件大小的增/删量）。
例如，<code>-M90％</code> 表示如果文件90％以上的内容没有更改，则 Git 应将删除/添加对视为重命名。
如果没有 <code>％</code> 符号，则该数字应作为小数读取，并在其前面加上小数点。
	即 <code>-M5</code> 变为 0.5，因此与 <code>-M50％</code> 相同。 同样，<code>-M05</code> 与 <code>-M5％</code> 相同。
	要将检测限制为精确的重命名，请使用 <code>-M100％</code>。 默认相似度指数为50％。</p>
</dd>
<dt class="hdlist1">-C[&lt;n&gt;]</dt>
<dt class="hdlist1">--find-copies[=&lt;n&gt;]</dt>
<dd>
<p>检测复制与重命名。参见 <code>--find-copies-harder</code>。如果指定了 <code>n</code>，则其与 <code>-M&lt;n&gt;</code> 含义相同。</p>
</dd>
<dt class="hdlist1">--find-copies-harder</dt>
<dd>
<p>出于性能考虑，默认情况下，<code>-C</code> 选项只在复制的原始文件在相同的变更集中被修改时才会查找复制。这个标志使命令检查未修改的文件作为复制源的候选文件。 对于大型项目来说，这是一个非常耗时的操作，所以要谨慎使用。 给出一个以上的 <code>-C</code> 选项有同样的效果。</p>
</dd>
<dt class="hdlist1">-D</dt>
<dt class="hdlist1">--irreversible-delete</dt>
<dd>
<p>删除时省略原内容，即只打印头信息，而不打原内容和 <code>/dev/null</code> 之间的差异。所产生的补丁并不是要用于 <code>patch</code> 或 <code>git apply</code>；这只是为了让人们只专注于审查修改后的文本。此外，输出结果显然缺乏足够的信息来反转，或手动应用这样一个补丁，因此这个选项的名称如此。</p>
<div class="paragraph">
<p>当与 <code>-B</code> 一起使用时，也省略删除/创建对中删除部分的原内容。</p>
</div>
</dd>
<dt class="hdlist1">-l&lt;数量&gt;</dt>
<dd>
<p><code>-M</code> 和 <code>-C</code> 选项涉及一些初步步骤，可以廉价地检测重命名/副本的子集，然后是详尽的后备部分，将所有剩余的未配对目的地与所有相关源进行比较。 （对于重命名，只有剩余的未配对源是相关的；对于副本，所有原始源都是相关的。）对于 N 个源和目的地，这个详尽的检查是 O(N^2)。如果涉及的源/目标文件数量超过指定数量，则此选项可防止重命名/复制检测的详尽部分运行。默认为 diff.renameLimit。请注意，值 0 被视为无限制。</p>
</dd>
<dt class="hdlist1">--diff-filter=[(A|C|D|M|R|T|U|X|B)&#8230;&#8203;[*]]</dt>
<dd>
<p>只选择添加（<code>A</code>）、复制（<code>C</code>）、删除（<code>D</code>）、修改（<code>M</code>）、重命名（<code>R</code>）、类型（即常规文件、符号链接、子模块&#8230;&#8203;&#8230;&#8203;）改变（<code>T</code>）、未合并（<code>U</code>）、未知（<code>X</code>）或配对被破坏（<code>B</code>）的文件。可以使用过滤字符的任何组合（包括空）。当组合中加入 <code>*</code>（全部或空）时，如果在比较中有任何文件与其他条件匹配，则选择所有路径；如果没有符合其他条件的文件，则不会选择任何内容。</p>
<div class="paragraph">
<p>另外，这些大写字母也可以通过使用小写排除。例如：<code>--diff-filter=ad</code> 排除添加和删除的路径。</p>
</div>
<div class="paragraph">
<p>请注意，并非所有差异都能显示所有类型。例如，如果禁用了复制和重命名条目类型的检测，这些条目就不会出现。</p>
</div>
</dd>
<dt class="hdlist1">-S&lt;string&gt;</dt>
<dd>
<p>寻找改变文件中指定字符串出现次数的差异（即增加/删除）。供脚本编写者使用。</p>
<div class="paragraph">
<p>当您正在寻找确切的代码块（如结构体），并且想知道该块自首次出现以来的历史记录时，这将非常有用：通过 <code>-S</code> 选项迭代，将原文件中的感兴趣的块显示出，并继续进行，直到获得该块的第一个版本。</p>
</div>
<div class="paragraph">
<p>二进制文件也会被搜索到。</p>
</div>
</dd>
<dt class="hdlist1">-G&lt;正则表达式&gt;</dt>
<dd>
<p>查找其补丁文本包含与 &lt;正则表达式&gt; 匹配的添加/删除行的差异。</p>
<div class="paragraph">
<p>为了说明 <code>-S&lt;正则表达式&gt; --pickaxe-regex</code> 和 <code>-G&lt;正则表达式&gt;</code> 之间的区别，假设某次提交在同一文件中有以下差异：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>+    return frotz(nitfol, two-&gt;ptr, 1, 0);
...
-    hit = frotz(nitfol, mf2.ptr, 1, 0);</pre>
</div>
</div>
<div class="paragraph">
<p><code>git log -G "frotz\(nitfol"</code> 会显示这次提交，但 <code>git log -S "frotz\(nitfol" --pickaxe-regex</code> 不会显示（因为该字符串的出现次数没有改变）。</p>
</div>
<div class="paragraph">
<p>除非提供 <code>--text</code>，否则没有 textconv 过滤器的二进制文件补丁将被忽略。</p>
</div>
<div class="paragraph">
<p>更多信息请参见 <a href="gitdiffcore.html">gitdiffcore(7)</a> 中的 <em>pickaxe</em> 条目。</p>
</div>
</dd>
<dt class="hdlist1">--find-object=&lt;对象ID&gt;</dt>
<dd>
<p>查找指定对象出现次数的差异。与 <code>-S</code> 类似，只是参数不同：它不搜索特定的字符串，而是搜索特定的对象 id。</p>
<div class="paragraph">
<p>该对象可以是一个 blob 或一个子模块提交。它意味着 <code>git-log</code> 中的 <code>-t</code> 选项也能找到工作树。</p>
</div>
</dd>
<dt class="hdlist1">--pickaxe-all</dt>
<dd>
<p>当使用 <code>-S</code> 或 <code>-G</code> 选项找到一个更改时，显示该更改集中的所有更改，而不仅仅是显示包含 &lt;string&gt; 更改的文件。</p>
</dd>
<dt class="hdlist1">--pickaxe-regex</dt>
<dd>
<p>将 <code>-S</code> 选项的 &lt;string&gt; 参数当作扩展的 POSIX 正则表达式来匹配。</p>
</dd>
<dt class="hdlist1">-O&lt;顺序控制文件&gt;</dt>
<dd>
<p>控制文件在输出中出现的顺序。这将覆盖 <code>diff.orderFile</code> 配置变量（参见 <a href="git-config.html">git-config(1)</a>）。要取消 <code>diff.orderFile</code>，请使用 <code>-O/dev/null</code>。</p>
<div class="paragraph">
<p>输出顺序由 &lt;顺序控制文件&gt; 中的 glob 模式的顺序决定。所有路径名与第一个模式匹配的文件首先输出，路径名与第二个模式匹配（但不与第一个模式匹配）的文件其次输出，以此类推。所有路径名与任何模式匹配的文件会最后输出，就像在文件末尾有一个隐含的全部匹配模式。如果多个路径名具有相同的等级（它们匹配相同的模式，但没有匹配先前的模式），它们相对于彼此的输出顺序是正常的。</p>
</div>
<div class="paragraph">
<p>&lt;顺序控制文件&gt; 格式如下：</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>空白行会被忽略，因此可以用它们作为分隔符，以保证可读性。</p>
</li>
<li>
<p>以井号（"<code>#</code>"）开头的行会被忽略，所以它们可以用来做注释。如果模式以井号开头，则需要在模式的开头加上反斜杠（"<code>\</code>"）。</p>
</li>
<li>
<p>每一行都包含一个模式。</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>模式的语法和语义与 fnmatch(3) 中使用的相同，不包括 FNM_PATHNAME 标志，但在删除路径名中结尾任意几个成分后匹配的情况下例外。例如，模式 "<code>foo*bar</code>" 匹配 "<code>fooasdfbar</code>" 和 "<code>foo/bar/baz/asdf</code>"，但不匹配 "<code>foobarx</code>"。</p>
</div>
</dd>
<dt class="hdlist1">--skip-to=&lt;文件&gt;</dt>
<dt class="hdlist1">--rotate-to=&lt;文件&gt;</dt>
<dd>
<p>从输出中丢弃命名 &lt;文件&gt; 之前的文件（即 <em>skip to</em>），或将它们移到输出的末尾（即 <em>rotate to</em>）。 这些选项主要是为使用 <code>git difftool</code> 命令而发明的，在其他情况下可能用处不大。</p>
</dd>
<dt class="hdlist1">-R</dt>
<dd>
<p>交换两个输入；即显示从索引或磁盘文件到目录树内容的差异。</p>
</dd>
<dt class="hdlist1">--relative[=&lt;路径&gt;]</dt>
<dt class="hdlist1">--no-relative</dt>
<dd>
<p>当从项目的子目录中运行时，可以排除目录外的变化，并通过这个选项显示相对于它的路径名。当你不在子目录中时（例如在纯仓库中），你可以通过 &lt;路径&gt; 参数来指明要使输出相对于哪个子目录。<code>--no-relative</code> 可以用来取消 <code>diff.relative`配置选项和之前的 `--relative</code> 选项。</p>
</dd>
<dt class="hdlist1">-a</dt>
<dt class="hdlist1">--text</dt>
<dd>
<p>将一切输入文件视为文本。</p>
</dd>
<dt class="hdlist1">--ignore-cr-at-eol</dt>
<dd>
<p>在进行比较时，忽略行末的回车。</p>
</dd>
<dt class="hdlist1">--ignore-space-at-eol</dt>
<dd>
<p>忽略行尾空格的变化。</p>
</dd>
<dt class="hdlist1">-b</dt>
<dt class="hdlist1">--ignore-space-change</dt>
<dd>
<p>忽略空格数量的变化。这会忽略行尾的空格，并认为包含一个或多个空格字符的其他序列都是等同的。</p>
</dd>
<dt class="hdlist1">-w</dt>
<dt class="hdlist1">--ignore-all-space</dt>
<dd>
<p>比较行时忽略空格。即使一行有空格而另一行没有空格，也会忽略差异。</p>
</dd>
<dt class="hdlist1">--ignore-blank-lines</dt>
<dd>
<p>忽略空白行的变化。</p>
</dd>
<dt class="hdlist1">-I&lt;正则表达式&gt;</dt>
<dt class="hdlist1">--ignore-matching-lines=&lt;正则表达式&gt;</dt>
<dd>
<p>忽略所有行均匹配 &lt;正则表达式&gt; 的更改。 此选项可指定多次。</p>
</dd>
<dt class="hdlist1">--inter-hunk-context=&lt;行数&gt;</dt>
<dd>
<p>显示块差异之间的上下文，最多显示指定的行数，从而合并彼此接近的块。 默认认为 <code>diff.interHunkContext</code>，如果配置选项未设置，则默认为0。</p>
</dd>
<dt class="hdlist1">-W</dt>
<dt class="hdlist1">--function-context</dt>
<dd>
<p>在每个修改中的上下文行显示整个函数。函数名称的确定方式与 <code>git diff</code> 计算补丁头的方式相同（参见 <a href="gitattributes.html">gitattributes(5)</a> 中的 <em>自定义区块头</em> ）。</p>
</dd>
<dt class="hdlist1">--exit-code</dt>
<dd>
<p>让程序以类似 diff(1) 的代码退出。也就是说，如果有差异则返回1，否则返回0。</p>
</dd>
<dt class="hdlist1">--quiet</dt>
<dd>
<p>禁用程序的所有输出。暗含 <code>--exit-code</code>。</p>
</dd>
<dt class="hdlist1">--ext-diff</dt>
<dd>
<p>允许执行外部差异器。如果你用 <a href="gitattributes.html">gitattributes(5)</a> 设置了一个外部差异驱动程序，你需要在 <a href="git-log.html">git-log(1)</a> 和相关命令中使用这个选项。</p>
</dd>
<dt class="hdlist1">--no-ext-diff</dt>
<dd>
<p>禁止使用外部差异器。</p>
</dd>
<dt class="hdlist1">--textconv</dt>
<dt class="hdlist1">--no-textconv</dt>
<dd>
<p>允许（或不允许）在比较二进制文件时运行外部文本转换过滤器。详情请参见 <a href="gitattributes.html">gitattributes(5)</a> 。由于文本转换过滤器通常是单向转换，因此产生的差异适合人类用户使用，但不能应用（apply）。因此默认情况下，只有 <a href="git-diff.html">git-diff(1)</a> 和 <a href="git-log.html">git-log(1)</a> 启用文本转换过滤器，而 <a href="git-format-patch.html">git-format-patch(1)</a> 或 diff plumbing 命令则不启用。</p>
</dd>
<dt class="hdlist1">--ignore-submodules[=&lt;when&gt;]</dt>
<dd>
<p>在生成差异时忽略子模块的修改。&lt;when&gt; 可以是 "none"、"untracked"、"dirty " 或 "all"，"all" 是默认选项。使用 "none" 会在子模块包含未跟踪或修改的文件，或者它的HEAD 与上级项目中记录的提交不同时，认为它被修改了，并且可以用来覆盖 <a href="git-config.html">git-config(1)</a> 或 <a href="gitmodules.html">gitmodules(5)</a> 中 <em>忽略</em> 选项的设置。当使用 "untracked" 时，当子模块只包含未跟踪的内容时，它们不会被认为是有改动的（但它们仍然会被扫描是否有被修改的内容）。使用 "dirty" 会忽略所有对子模块工作树的修改，只有存储在上级项目中的提交的修改才会被显示出来（这是在1.7.0之前的行为）。使用 "all" 会隐藏所有对子模块的修改。</p>
</dd>
<dt class="hdlist1">--src-prefix=&lt;前缀&gt;</dt>
<dd>
<p>显示给定的源前缀而不是 "a/"。</p>
</dd>
<dt class="hdlist1">--dst-prefix=&lt;前缀&gt;</dt>
<dd>
<p>显示给定的目标前缀，而不是“b/”。</p>
</dd>
<dt class="hdlist1">--no-prefix</dt>
<dd>
<p>不显示任何源或目的前缀。</p>
</dd>
<dt class="hdlist1">--default-prefix</dt>
<dd>
<p>使用默认的源和目标前缀（"a/"和 "b/"）。 这通常已经是默认的，但可以用来覆盖配置，如 <code>diff.noprefix</code>。</p>
</dd>
<dt class="hdlist1">--line-prefix=&lt;prefix&gt;</dt>
<dd>
<p>在每一行输出前加上一个额外的前缀。</p>
</dd>
<dt class="hdlist1">--ita-invisible-in-index</dt>
<dd>
<p>默认情况下，通过 "git add -N" 添加的条目在 "git diff" 中显示为现有的空文件，在 "git diff --cached" 中显示为新文件。这个选项使得条目在 "git diff" 中显示为一个新文件，而在 "git diff --cached" 中显示为不存在的文件。这个选项可以用 <code>--ita-visible-in-index</code> 来还原。这两个选项都是试验性的，将来可能会被删除。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>关于这些常用选项的更多解释，请参见 <a href="gitdiffcore.html">gitdiffcore(7)</a>。</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">&lt;tree-ish&gt;</dt>
<dd>
<p>树对象的 id。</p>
</dd>
<dt class="hdlist1">&lt;路径&gt;&#8230;&#8203;</dt>
<dd>
<p>如果提供了该选项，则结果仅限于与所提供的路径规格之一相匹配的文件子集。</p>
</dd>
<dt class="hdlist1">-r</dt>
<dd>
<p>向子树递归。</p>
</dd>
<dt class="hdlist1">-t</dt>
<dd>
<p>展示目录树本身以及子树。 暗指 -r。</p>
</dd>
<dt class="hdlist1">--root</dt>
<dd>
<p>当指定了 <code>--root</code> 时，初始提交将显示为一个大的创建事件。这相当于针对 NULL 树的差分。</p>
</dd>
<dt class="hdlist1">--merge-base</dt>
<dd>
<p>不要直接比较 &lt;树对象&gt;，而是使用两个 &lt;树对象&gt; 之间的合并基数作为 "before" 边。 必须有两个 &lt;树对象&gt;，而且必须都是提交。</p>
</dd>
<dt class="hdlist1">--stdin</dt>
<dd>
<p>如果指定了 <code>--stdin</code>，命令不会从命令行获取 &lt;树对象&gt; 参数。 相反，它会从标准输入中读取包含两个 &lt;目录树&gt;、一个 &lt;提交&gt; 或一个 &lt;提交&gt; 列表的行。 (使用单空格作为分隔符）</p>
<div class="paragraph">
<p>当给出两个树时，它会比较第一个目录树和第二个目录树。 如果给出的是单个提交，则会将该提交与其父提交进行比较。 如果给出了其余的提交，则会把它们当作第一个提交的父提交来使用。</p>
</div>
<div class="paragraph">
<p>比较两棵目录树时，会在差值前打印两棵目录树的 ID（用空格分隔并以换行结束）。 比较提交时，则会打印第一个（或唯一一个）提交的 ID，并以换行结束。</p>
</div>
<div class="paragraph">
<p>以下标记会进一步影响比较提交（而不是目录树树）时的行为。</p>
</div>
</dd>
<dt class="hdlist1">-m</dt>
<dd>
<p>默认情况下，<em>git diff-tree --stdin</em> 不会显示合并提交的差异。 有了这个标记，它就会显示该提交与其所有父提交的差异。另请参阅 <code>-c</code>。</p>
</dd>
<dt class="hdlist1">-s</dt>
<dd>
<p>默认情况下，<em>git diff-tree --stdin</em> 会以机器可读形式（不含 <code>-p</code>）或补丁形式（含 <code>-p</code>）显示差异。 该输出可以被抑制。 只有使用 <code>-v</code> 标志时才有用。</p>
</dd>
<dt class="hdlist1">-v</dt>
<dd>
<p>该标记会使 <em>git diff-tree --stdin</em> 在差异之前显示提交信息。</p>
</dd>
<dt class="hdlist1">--pretty[=&lt;格式&gt;]</dt>
<dt class="hdlist1">--format=&lt;格式&gt;</dt>
<dd>
<p>以指定的格式打印提交日志的内容，其中'&lt;format&gt;'可以是&#8217;oneline'、<em>short</em>、<em>medium</em>、<em>full</em>、<em>fuller</em>、<em>reference</em>、<em>email</em>、<em>raw</em>、<em>format:&lt;string&gt;'和&#8217;tformat:&lt;string&gt;'之一。 当</em>&lt;format&gt;'不是上述任何一种，并且其中有'%placeholder&#8217;时，它的作用就像给出'--pretty=tformat:&lt;format&gt;'一样。</p>
<div class="paragraph">
<p>参见 "PRETTY FORMATS "部分，了解每种格式的一些额外细节。 当'=&lt;格式&gt;'部分被省略时，它默认为&#8217;中等'。</p>
</div>
<div class="paragraph">
<p>注意：你可以在版本库配置中指定默认的漂亮格式（见<a href="git-config.html">git-config(1)</a>）。</p>
</div>
</dd>
<dt class="hdlist1">--abbrev-commit</dt>
<dd>
<p>不要显示完整的40字节的十六进制提交对象名称，而是显示一个前缀，以唯一的方式命名该对象。 "--abbrev=&lt;n&gt;"选项可以用来指定前缀的最小长度（如果显示的话，它也会修改diff输出）。</p>
<div class="paragraph">
<p>这应该使"--pretty=oneline "对于使用80列终端的人来说更容易阅读。</p>
</div>
</dd>
<dt class="hdlist1">--no-abbrev-commit</dt>
<dd>
<p>显示完整的40字节十六进制的提交对象名称。这否定了`--abbrev-commit`，无论是明确的还是由其他选项如"--oneline "暗示的。它还覆盖了`log.abbrevCommit`变量。</p>
</dd>
<dt class="hdlist1">--oneline</dt>
<dd>
<p>这是"--pretty=oneline --abbrev-commit "的简写，一起使用。</p>
</dd>
<dt class="hdlist1">--encoding=&lt;编码&gt;</dt>
<dd>
<p>提交对象会在其编码头中记录日志信息使用的字符编码；该选项可用于告诉命令以用户偏好的编码重新编码提交日志信息。 对于非底层命令，默认编码为 UTF-8。需要注意的是，如果对象声称以 <code>X</code> 编码，而我们以 <code>X</code> 输出，我们将逐字输出该对象；这意味着原始提交中的无效序列可能会被复制到输出中。同样，如果 iconv(3) 无法转换提交，我们也会静静地逐字输出原始对象。</p>
</dd>
<dt class="hdlist1">--expand-tabs=&lt;n&gt;</dt>
<dt class="hdlist1">--expand-tabs</dt>
<dt class="hdlist1">--no-expand-tabs</dt>
<dd>
<p>在输出中显示之前，在日志信息中进行标签扩展（用足够的空格替换每个标签，以填充到下一个显示列的 <em>&lt;n&gt;</em> 的倍数）。 <code>--expand-tabs</code> 是 <code>--expand-tabs=8</code> 的简写，<code>--no-expand-tabs</code> 是 <code>--expand-tabs=0</code> 的简写，它禁止标签扩展。</p>
<div class="paragraph">
<p>默认情况下，标签会以漂亮的格式展开，将日志信息缩进4个空格（即 "中"，这是默认的，"全"，和 "更全"）。</p>
</div>
</dd>
<dt class="hdlist1">--notes[=&lt;引用&gt;]</dt>
<dd>
<p>在显示提交日志信息时，显示注释提交的说明（见<a href="git-notes.html">git-notes(1)</a>）。 这是`git log`、<code>git show`和`git whatchanged`命令的默认设置，当命令行中没有给出</code>--pretty`、<code>--format`或</code>--oneline`选项时。</p>
<div class="paragraph">
<p>默认情况下，显示的注释来自于`core.notesRef`和`notes.displayRef`变量（或相应的环境覆盖）中列出的注释参考。更多细节见<a href="git-config.html">git-config(1)</a>。</p>
</div>
<div class="paragraph">
<p>有了一个可选的 <em>&lt;引用&gt;</em> 参数，就可以使用引用来寻找要显示的笔记。 当引用以 <code>refs/notes/</code> 开头时，可以指定完整的引用名称；当它以 <code>notes/</code> 开头时， <code>refs/</code> ，否则 <code>refs/notes/</code> 前缀，形成引用的全名。</p>
</div>
<div class="paragraph">
<p>多个&#8212;&#8203;音符选项可以组合起来，控制哪些音符被显示。例如。"--notes=foo "将只显示来自 "refs/notes/foo "的注释；"--notes=foo --notes "将同时显示来自 "refs/notes/foo "和默认注释的注释。</p>
</div>
</dd>
<dt class="hdlist1">--no-notes</dt>
<dd>
<p>不显示注释。这否定了上面的`--notes`选项，因为它重新设置了显示注释的注释列表。 选项按照命令行给出的顺序进行解析，因此，例如"--notes --notes=foo --no-notes --notes=bar "将只显示来自 "refs/notes/bar "的注释。</p>
</dd>
<dt class="hdlist1">--show-notes-by-default</dt>
<dd>
<p>显示默认备注，除非给出了显示特定备注的选项。</p>
</dd>
<dt class="hdlist1">--show-notes[=&lt;引用&gt;]</dt>
<dt class="hdlist1">--[no-]standard-notes</dt>
<dd>
<p>这些选项已被废弃。请使用上面的 --notes/--no-notes 选项来代替。</p>
</dd>
<dt class="hdlist1">--show-signature</dt>
<dd>
<p>通过将签名传递给 <code>gpg --verify</code> 来检查已签名的提交对象的有效性，并显示输出。</p>
</dd>
<dt class="hdlist1">--no-commit-id</dt>
<dd>
<p><em>git diff-tree</em> 会在适当的时候输出一行提交 ID。 该标记会抑制提交 ID 的输出。</p>
</dd>
<dt class="hdlist1">-c</dt>
<dd>
<p>这个标记改变了合并提交的显示方式（这意味着它只在命令为一个 &lt;树对象&gt; 或 <code>--stdin</code> 时有用）。 它会同时显示每个父文件与合并结果之间的差异，而不是一次一个地显示父文件与合并结果之间的成对差异（<code>-m</code> 选项就是这么做的）。 此外，它只列出从所有父文件修改过的文件。</p>
</dd>
<dt class="hdlist1">--cc</dt>
<dd>
<p>这个标记改变了合并提交补丁的显示方式，与 <code>-c</code> 选项类似。它暗示了 <code>-c</code> 和 <code>-p</code> 选项，并通过省略不感兴趣的 hunk 来进一步压缩补丁输出，这些 hunk 的内容在父节点中只有两种变体，合并结果会选择其中之一而不做修改。 如果所有 hunk 都是无趣的，提交本身和提交日志信息都不会显示，就像其他 “空差异” 情况一样。</p>
</dd>
<dt class="hdlist1">--combined-all-paths</dt>
<dd>
<p>该标记会导致合并差异（用于合并提交）列出所有父文件的文件名。 因此，它只有在指定 -c 或 --cc 时才有效，而且可能只有在检测到文件名更改时才有用（即请求重命名或复制检测时）。</p>
</dd>
<dt class="hdlist1">--always</dt>
<dd>
<p>即使差异本身为空，也会显示提交本身和提交日志信息。</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_漂亮的格式">漂亮的格式</h2>
<div class="sectionbody">
<div class="paragraph">
<p>如果提交是一个合并，并且如果pretty-format不是 "oneline"、"email "或 "raw"，那么在 "Author: "一行之前会插入一个附加行。 这一行的开头是 "Merge:这一行以 "Merge: "开头，并打印出祖先提交的哈希值，用空格分隔。 请注意，如果你限制了你的历史视图，那么列出的提交不一定是*直接*父级提交的列表：例如，如果你只对与某个目录或文件有关的修改感兴趣。</p>
</div>
<div class="paragraph">
<p>有几种内置的格式，你可以通过将 pretty.&lt;名称&gt; 配置选项设置为另一种格式名称或 <em>format:</em> 字符串来定义额外的格式，如下所述（见 <a href="git-config.html">git-config(1)</a> ）。下面是内置格式的细节：</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>oneline</em></p>
<div class="literalblock">
<div class="content">
<pre>&lt;哈希值&gt; &lt;标题行&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>这个设计是为了尽可能的紧凑。</p>
</div>
</li>
<li>
<p><em>short</em></p>
<div class="literalblock">
<div class="content">
<pre>承诺&lt;hash&gt;
作者。&lt;作者&gt;的情况</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;标题行&gt;</pre>
</div>
</div>
</li>
<li>
<p><em>medium</em></p>
<div class="literalblock">
<div class="content">
<pre>commit &lt;哈希值&gt;
Author: &lt;作者&gt;
Date:   &lt;提交日期&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;标题行&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;完整的提交信息</pre>
</div>
</div>
</li>
<li>
<p><em>full</em></p>
<div class="literalblock">
<div class="content">
<pre>承诺&lt;hash&gt;
作者。&lt; Author&gt;
承诺。&lt;committer&gt;（提交者）。</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;标题行&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;完整的提交信息</pre>
</div>
</div>
</li>
<li>
<p><em>fuller</em></p>
<div class="literalblock">
<div class="content">
<pre>commit &lt;哈希值&gt;
Author:     &lt;作者&gt;
AuthorDate: &lt;作者提交日期&gt;
Commit:     &lt;提交者&gt;
CommitDate: &lt;提交者提交日期&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;标题行&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;完整的提交信息</pre>
</div>
</div>
</li>
<li>
<p>‘引用’</p>
<div class="literalblock">
<div class="content">
<pre>&lt;缩写哈希值&gt;（&lt;标题行&gt;，&lt;简短的作者日期&gt;）</pre>
</div>
</div>
<div class="paragraph">
<p>这种格式用于在提交信息中引用另一个提交，与`--pretty='format:%C(auto)%h (%s, %ad)'相同。 默认情况下，日期的格式为`--date=short`，除非明确指定其他`--date`选项。 与任何带有格式占位符的`format:<code>一样，其输出不受其他选项的影响，如</code>--decorate`和`--walk-reflogs`。</p>
</div>
</li>
<li>
<p><em>email</em></p>
<div class="literalblock">
<div class="content">
<pre>From &lt;哈希&gt; &lt;日期&gt;
From: &lt;作者&gt;
Date: &lt;作者提交日期&gt;
Subject: [PATCH] &lt;标题行&gt;</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>&lt;完整的提交信息</pre>
</div>
</div>
</li>
<li>
<p><em>mboxrd</em></p>
<div class="paragraph">
<p>和 "email "一样，但提交信息中以 "From "开头的行（前面有零个或多个"&gt;"）用"&gt;"引出，这样就不会被混淆为开始了一个新的提交。</p>
</div>
</li>
<li>
<p><em>raw</em></p>
<div class="paragraph">
<p>原始 "格式显示的是整个提交对象中存储的内容。 值得注意的是，无论是否使用了 --abbrev 或 --no-abbrev，哈希值都会被完整地显示出来，而&#8217;parent&#8217;信息会显示真正的父级提交，不会考虑移花接木或历史简化。注意，这种格式会影响提交的显示方式，但不会影响diff的显示方式，比如用`git log --raw`来显示。要获得原始差异格式的完整对象名称，请使用`--no-abbrev`。</p>
</div>
</li>
<li>
<p><em>format:&lt;格式字符串&gt;</em></p>
<div class="paragraph">
<p><em>format:&lt;格式字符串</em> 格式允许你指定要显示的信息。它的工作原理有点像 printf 格式，但有一个明显的例外，那就是换行符是 <em>%n</em> 而不是 <em>\n</em>。</p>
</div>
<div class="paragraph">
<p>例如，<em>format: "The author of %h was %an, %ar%nThe title was &gt;&gt;%s&lt;&lt;%n"</em> 会显示这样的内容：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>fe6e0ee的作者是Junio C Hamano, 23小时前
标题是 &gt;&gt;t4119: 测试传统diff输入的自动计算-p&lt;n&gt;。</pre>
</div>
</div>
<div class="paragraph">
<p>占位符是：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>占位符，可扩展为一个字面字符：</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>%n</em></dt>
<dd>
<p>换行</p>
</dd>
<dt class="hdlist1"><em>%%</em></dt>
<dd>
<p>一个原始的'%'</p>
</dd>
<dt class="hdlist1"><em>%x00</em></dt>
<dd>
<p><em>%x</em> 后跟两个十六进制数字，会被一个包含十六进制数字值的字节替换（在本文档的其余部分，我们称之为 “字面格式化代码”）。</p>
</dd>
</dl>
</div>
</li>
<li>
<p>影响后面占位符的格式化的占位符：</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>%Cred</em></dt>
<dd>
<p>切换颜色为红色</p>
</dd>
<dt class="hdlist1"><em>%Cgreen</em></dt>
<dd>
<p>切换颜色为绿色</p>
</dd>
<dt class="hdlist1"><em>%Cblue</em></dt>
<dd>
<p>将颜色改为蓝色</p>
</dd>
<dt class="hdlist1"><em>%Creset</em></dt>
<dd>
<p>重置颜色</p>
</dd>
<dt class="hdlist1"><em>%C(&#8230;&#8203;)</em></dt>
<dd>
<p>颜色规范，如<a href="git-config.html">git-config(1)</a>的 "配置文件 "部分中的数值描述。 默认情况下，只有在启用日志输出时才会显示颜色（通过 <code>color.diff</code>, <code>color.ui</code>, 或 <code>--color</code>, 如果我们要去终端，要尊重前者的`auto`设置）。<code>%C(auto,...)`被接受为默认的历史同义词（例如，</code>%C(auto,red)<code>）。指定</code>%C(always,&#8230;&#8203;)<code>将显示颜色，即使没有启用颜色（尽管考虑使用</code>--color=always`来启用整个输出的颜色，包括这个格式和其他任何git可能的颜色）。 <code>auto`单独使用（即</code>%C(auto)`）将在下一个占位符上开启自动着色，直到再次切换颜色。</p>
</dd>
<dt class="hdlist1"><em>%m</em></dt>
<dd>
<p>左（<code>&lt;</code>）、右（<code>&gt;</code>）或边界（<code>-</code>）标记</p>
</dd>
<dt class="hdlist1"><em>%w([&lt;w&gt;[,&lt;i1&gt;[,&lt;i2&gt;]]])</em></dt>
<dd>
<p>开关包行，就像 <a href="git-shortlog.html">git-shortlog(1)</a> 的 -w 选项。</p>
</dd>
<dt class="hdlist1"><em>%&lt;(&lt;N&gt;[,trunc|ltrunc|mtrunc])</em></dt>
<dd>
<p>使下一个占位符至少占用 N 列宽，必要时在右侧填充空格。 如果输出超过 N 列，可选择在左侧（ltrunc）<code>..ft</code>、中间（mtrunc）<code>mi..le</code> 或末尾（trunc）<code>rig..</code> 截断（用省略号 <em>..</em> ）。 注意 1：截断只在 N &gt;= 2 时有效。 注 2：N 和 M（见下文）值周围的空格为可选项。 注 3：表情符号和其他宽字符将占用两个显示列，可能会超出列边界。 注 4：分解字符组合标记可能会在填充边界处错位。</p>
</dd>
<dt class="hdlist1"><em>%&lt;|(&lt;M&gt;)</em></dt>
<dd>
<p>使下一个占位符至少显示到第 M 列，必要时在右侧填充空格。 从终端窗口右侧边缘测量的列位置使用负 M 值。</p>
</dd>
<dt class="hdlist1"><em>%&gt;(&lt;N&gt;)</em>, <em>%&gt;|(&lt;M&gt;)</em></dt>
<dd>
<p>分别类似于 <em>%&lt;( &lt;N&gt; )</em> 、<em>%&lt;|( &lt;M&gt; )</em>，但在左侧填充空格</p>
</dd>
<dt class="hdlist1"><em>%&gt;&gt;(&lt;N&gt;)</em>, <em>%&gt;&gt;|(&lt;M&gt;)</em></dt>
<dd>
<p>分别类似于'%&gt;(&lt;N&gt;)<em>、</em>%&gt;|(&lt;M&gt;)'，只是如果下一个占位符占用的空间比给定的多，并且其左侧有空格，则使用这些空格</p>
</dd>
<dt class="hdlist1"><em>%&gt;&lt;(&lt;N&gt;)</em>, <em>%&gt;&lt;|(&lt;M&gt;)</em></dt>
<dd>
<p>分别类似于'%&lt;( &lt;N&gt; )' 和 <em>%&lt;|( &lt;M&gt; )</em>，但两边都有填充（即文本居中）</p>
</dd>
</dl>
</div>
</li>
<li>
<p>占位符，扩展到从提交中提取的信息：</p>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>%H</em></dt>
<dd>
<p>提交的哈希值</p>
</dd>
<dt class="hdlist1"><em>%h</em></dt>
<dd>
<p>简称提交哈希</p>
</dd>
<dt class="hdlist1"><em>%T</em></dt>
<dd>
<p>目录树哈希值</p>
</dd>
<dt class="hdlist1"><em>%t</em></dt>
<dd>
<p>简称树形哈希</p>
</dd>
<dt class="hdlist1"><em>%P</em></dt>
<dd>
<p>父类哈希值</p>
</dd>
<dt class="hdlist1"><em>%p</em></dt>
<dd>
<p>缩写的父母哈希值</p>
</dd>
<dt class="hdlist1"><em>%an</em></dt>
<dd>
<p>作者名</p>
</dd>
<dt class="hdlist1"><em>%aN</em></dt>
<dd>
<p>作者名（关于 .mailmap，请参见 <a href="git-shortlog.html">git-shortlog(1)</a> 或 <a href="git-blame.html">git-blame(1)</a></p>
</dd>
<dt class="hdlist1"><em>%ae</em></dt>
<dd>
<p>作者电子邮箱</p>
</dd>
<dt class="hdlist1"><em>%aE</em></dt>
<dd>
<p>作者电子邮件（关于 .mailmap，请参见 <a href="git-shortlog.html">git-shortlog(1)</a> 或 <a href="git-blame.html">git-blame(1)</a></p>
</dd>
<dt class="hdlist1"><em>%al</em></dt>
<dd>
<p>作者电子邮件的本地部分（<em>@</em> 符号之前的部分）</p>
</dd>
<dt class="hdlist1"><em>%aL</em></dt>
<dd>
<p>尊重 .mailmap 作者的本地部分（参见 <em>%al</em> ），参见 <a href="git-shortlog.html">git-shortlog(1)</a> 或 <a href="git-blame.html">git-blame(1)</a>)</p>
</dd>
<dt class="hdlist1"><em>%ad</em></dt>
<dd>
<p>作者日期（格式尊重&#8212;&#8203;date=选项</p>
</dd>
<dt class="hdlist1"><em>%aD</em></dt>
<dd>
<p>作者日期，RFC2822风格</p>
</dd>
<dt class="hdlist1"><em>%ar</em></dt>
<dd>
<p>作者日期，相对</p>
</dd>
<dt class="hdlist1"><em>%at</em></dt>
<dd>
<p>作者日期，UNIX时间戳</p>
</dd>
<dt class="hdlist1"><em>%ai</em></dt>
<dd>
<p>作者日期，类似ISO 8601的格式</p>
</dd>
<dt class="hdlist1"><em>%aI</em></dt>
<dd>
<p>作者日期，严格的ISO 8601格式</p>
</dd>
<dt class="hdlist1"><em>%as</em></dt>
<dd>
<p>作者日期，短格式（ <code>YYYY-MM-DD</code> ）</p>
</dd>
<dt class="hdlist1"><em>%ah</em></dt>
<dd>
<p>作者日期，以易读形式呈现（就像 <a href="git-rev-list.html">git-rev-list(1)</a> 的 <code>--date=human</code> 选项）</p>
</dd>
<dt class="hdlist1"><em>%cn</em></dt>
<dd>
<p>提交者名称</p>
</dd>
<dt class="hdlist1"><em>%cN</em></dt>
<dd>
<p>提交者名称（尊重 .mailmap，参见 <a href="git-shortlog.html">git-shortlog(1)</a> 或 <a href="git-blame.html">git-blame(1)</a></p>
</dd>
<dt class="hdlist1"><em>%ce</em></dt>
<dd>
<p>提交者电子邮箱</p>
</dd>
<dt class="hdlist1"><em>%cE</em></dt>
<dd>
<p>提交者电子邮箱（尊重 .mailmap，参见 <a href="git-shortlog.html">git-shortlog(1)</a> 或 <a href="git-blame.html">git-blame(1)</a></p>
</dd>
<dt class="hdlist1"><em>%cl</em></dt>
<dd>
<p>提交者电子邮件的本地部分（<em>@</em> 符号之前的部分）</p>
</dd>
<dt class="hdlist1"><em>%cL</em></dt>
<dd>
<p>提交者本地部分（参见'%cl' ）尊重 .mailmap, 参见 <a href="git-shortlog.html">git-shortlog(1)</a> 或 <a href="git-blame.html">git-blame(1)</a>)</p>
</dd>
<dt class="hdlist1"><em>%cd</em></dt>
<dd>
<p>承诺人日期（格式尊重&#8212;&#8203;date=选项</p>
</dd>
<dt class="hdlist1"><em>%cD</em></dt>
<dd>
<p>承诺人日期，RFC2822风格</p>
</dd>
<dt class="hdlist1"><em>%cr</em></dt>
<dd>
<p>承诺人日期，相对</p>
</dd>
<dt class="hdlist1"><em>%ct</em></dt>
<dd>
<p>提交者日期，UNIX时间戳</p>
</dd>
<dt class="hdlist1"><em>%ci</em></dt>
<dd>
<p>承诺人日期，类似ISO 8601的格式</p>
</dd>
<dt class="hdlist1"><em>%cI</em></dt>
<dd>
<p>承诺人日期，严格的ISO 8601格式</p>
</dd>
<dt class="hdlist1"><em>%cs</em></dt>
<dd>
<p>承诺人日期，短格式（ <code>YYYY-MM-DD</code> ）</p>
</dd>
<dt class="hdlist1"><em>%ch</em></dt>
<dd>
<p>提交者的日期，人类风格（就像 <a href="git-rev-list.html">git-rev-list(1)</a> 的 <code>--date=human</code> 选项）</p>
</dd>
<dt class="hdlist1"><em>%d</em></dt>
<dd>
<p>ref名称，就像<a href="git-log.html">git-log(1)</a>的&#8212;&#8203;decorate选项。</p>
</dd>
<dt class="hdlist1"><em>%D</em></dt>
<dd>
<p>没有"（"、"）"包装的参考文献名称。</p>
</dd>
<dt class="hdlist1"><em>%(decorate[:&lt;选项&gt;])</em></dt>
<dd>
<p>自定义装饰的引用名称。<code>decorate</code> 字符串后面可以是冒号和零个或多个以逗号分隔的选项。选项值可能包含字面格式化代码。由于逗号（<code>%x2C</code>）和结尾括号（<code>%x29</code>）在选项语法中的作用，因此必须使用这些代码。</p>
<div class="ulist">
<ul>
<li>
<p><em>prefix=&lt;值&gt;</em>： 显示在引用名称列表之前。 默认为 "&#160;<code>(</code>"。</p>
</li>
<li>
<p><em>suffix=&lt;值&gt;</em>： 显示在引用名称列表之后。 默认为 "<code>)</code>"。</p>
</li>
<li>
<p><em>separator=&lt;值&gt;</em>： 显示在引用名称之间。 默认为 "<code>,</code>&#160;"。</p>
</li>
<li>
<p><em>point=&lt;值&gt;</em>： 显示在 HEAD 和其指向的分支（如果有）之间。
默认为 "&#160;<code>-&gt;</code>&#160;"。</p>
</li>
<li>
<p><em>tag=&lt;值&gt;</em>： 显示在标记名称之前。默认为 "<code>tag:</code>&#160;"。</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>例如，制作不带包装或标签注释的装饰，并用空格作为分隔符：</p>
</div>
<div class="paragraph">
<p>+
<code>%(decorate:prefix=,suffix=,tag=,separator= )</code></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>%(describe[:&lt;选项&gt;])</em></dt>
<dd>
<p>人类可读的名字，像<a href="git-describe.html">git-describe(1)</a>；空字符串表示不可描述的提交。 `describe`字符串后面可以有冒号和零个或多个逗号分隔的选项。 当标签同时被添加或删除时，描述可能不一致。</p>
<div class="ulist">
<ul>
<li>
<p><em>tags[=&lt;bool-value&gt;]</em>：不仅考虑带注释的标签，还考虑轻量级标签。</p>
</li>
<li>
<p><em>abbrev=&lt;数量&gt;</em>：不使用缩写对象名称的默认十六进制位数（根据仓库中对象的数量而变化，默认为 7 位），而是使用 &lt;数量&gt; 的位数，或根据需要的位数来组成唯一的对象名称。</p>
</li>
<li>
<p><em>match=&lt;pattern&gt;</em>:只考虑与给定的`glob(7)`模式匹配的标签，不包括 "refs/tags/"前缀。</p>
</li>
<li>
<p><em>exclude=&lt;pattern&gt;</em>:不考虑匹配给定`glob(7)`模式的标签，排除 "refs/tags/"前缀。</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1"><em>%S</em></dt>
<dd>
<p>在命令行中给出的提交名称（如 <code>git log --source</code>），只对 <code>git log</code> 起作用</p>
</dd>
<dt class="hdlist1"><em>%e</em></dt>
<dd>
<p>编码方式</p>
</dd>
<dt class="hdlist1"><em>%s</em></dt>
<dd>
<p>主题</p>
</dd>
<dt class="hdlist1"><em>%f</em></dt>
<dd>
<p>经过消毒的主题行，适合于文件名</p>
</dd>
<dt class="hdlist1"><em>%b</em></dt>
<dd>
<p>正文</p>
</dd>
<dt class="hdlist1"><em>%B</em></dt>
<dd>
<p>原始体（未包装的主题和体）</p>
</dd>
<dt class="hdlist1"><em>%N</em></dt>
<dd>
<p>承诺说明</p>
</dd>
<dt class="hdlist1"><em>%GG</em></dt>
<dd>
<p>来自GPG的签名提交的原始验证信息</p>
</dd>
<dt class="hdlist1"><em>%G?</em></dt>
<dd>
<p>显示 "G" 代表一个好的（有效的）签名，"B" 代表一个坏的签名，"U" 代表一个有效性未知的好的签名，"X" 代表一个已经过期的好的签名，"Y" 代表一个由过期的钥匙制作的好的签名，"R" 代表一个由撤销的 钥匙制作的好的签名，"E" 如果不能检查签名（如缺少钥匙），"N" 代表没有签名</p>
</dd>
<dt class="hdlist1"><em>%GS</em></dt>
<dd>
<p>显示已签名的提交的签名者的名字</p>
</dd>
<dt class="hdlist1"><em>%GK</em></dt>
<dd>
<p>显示用于签署已签名的承诺的密钥</p>
</dd>
<dt class="hdlist1"><em>%GF</em></dt>
<dd>
<p>显示用于签署已签名提交文件的密钥的指纹</p>
</dd>
<dt class="hdlist1"><em>%GP</em></dt>
<dd>
<p>显示主键的指纹，该主键的子键被用来签署一个已签署的提交</p>
</dd>
<dt class="hdlist1"><em>%GT</em></dt>
<dd>
<p>显示用于签署已签名的承诺的密钥的信任级别</p>
</dd>
<dt class="hdlist1"><em>%gD</em></dt>
<dd>
<p>reflog选择器，例如，<code>refs/stash@{1}`或`refs/stash@{2分钟前}</code>；其格式遵循`-g`选项的规则。<code>@'前面的部分是命令行上给出的参考文献名称（所以`git log -g refs/heads/master`会产生`refs/heads/master@{0}</code>）。</p>
</dd>
<dt class="hdlist1"><em>%gd</em></dt>
<dd>
<p>简化的 reflog 选择器；与 <code>%gD</code> 相同，但 refname 部分被缩短以利于人类阅读（因此 <code>refs/heads/master</code> 变成了 <code>master</code>）。</p>
</dd>
<dt class="hdlist1"><em>%gn</em></dt>
<dd>
<p>记录身份名称</p>
</dd>
<dt class="hdlist1"><em>%gN</em></dt>
<dd>
<p>引用日志身份名称（尊重 .mailmap，参见 <a href="git-shortlog.html">git-shortlog(1)</a> 或 <a href="git-blame.html">git-blame(1)</a></p>
</dd>
<dt class="hdlist1"><em>%ge</em></dt>
<dd>
<p>重新记录身份邮件</p>
</dd>
<dt class="hdlist1"><em>%gE</em></dt>
<dd>
<p>引用日志身份电子邮箱（尊重 .mailmap，参见 <a href="git-shortlog.html">git-shortlog(1)</a> 或 <a href="git-blame.html">git-blame(1)</a></p>
</dd>
<dt class="hdlist1"><em>%gs</em></dt>
<dd>
<p>记录主题</p>
</dd>
<dt class="hdlist1"><em>%(trailers[:&lt;选项&gt;])</em></dt>
<dd>
<p>显示由 <a href="git-interpret-trailers.html">git-interpret-trailers(1)</a> 解释的正文的为主。<code>trailers</code> 字符串后面可以有冒号和零个或多个逗号分隔的选项。 如果任何选项被多次提供，则最后出现的选项获胜。</p>
<div class="ulist">
<ul>
<li>
<p><em>key=&lt;键&gt;</em>：只显示具有指定密钥的为主。匹配是不分大小写的，后面的冒号是可选的。如果多次给出选项，则显示与任何键匹配的为主行。该选项自动启用 <code>only</code> 选项，使拖车块中的非尾注行被隐藏。如果不希望这样，可以用 <code>only=false</code> 禁用。 例如，<code>%(trailers:key=Reviewed-by)</code> 显示键为 <code>Reviewed-by</code> 的拖车行。</p>
</li>
<li>
<p><em>only[=&lt;布尔值&gt;]</em> ：选择是否应该包括来自尾注块的非尾注行。</p>
</li>
<li>
<p><em>separator=&lt;切片&gt;</em>：指定插入在尾注行之间的分隔符。如果不使用该选项，则每行以换行符结束。字符串 &lt;切片&gt; 可以包含上述字面格式化代码。要使用逗号作为分隔符，必须使用 <code>%x2C</code>，否则会被解析为下一个选项。例如，<code>%(trailer:key=Ticket,separator=%x2C )</code> 显示所有关键字为 "Ticket" 的尾注行，并用逗号和空格分隔。</p>
</li>
<li>
<p><em>unfold[=&lt;布尔值&gt;]</em>：使它的行为就像 interpret-trailer 的 <code>--unfold</code> 选项被给出一样。例如，`%(trailers:only,unfold=true)`会展开并显示所有的尾注行。</p>
</li>
<li>
<p><em>keyonly[=&lt;布尔值&gt;]</em>：只显示尾注的关键部分。</p>
</li>
<li>
<p><em>valueonly[=&lt;布尔值&gt;]</em>：只显示尾注的值部分。</p>
</li>
<li>
<p><em>key_value_separator=&lt;切片&gt;</em>：指定在尾注行之间插入一个分隔符。当这个选项没有给出时，每个尾注的键值对都用 ": " 分开。 否则，它的语义与上面的 <em>separator=&lt;切片&gt;</em> 相同。</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
一些占位符可能取决于给修订版遍历引擎的其他选项。例如，<code>%g*</code> reflog选项将插入一个空字符串，除非我们正在遍历reflog条目（例如，通过`git log -g`）。<code>%d`和</code>%D`占位符将使用 "短 "装饰格式，如果`--decorate`没有在命令行上提供。
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>布尔选项接受一个可选的值`[=&lt;布尔值&gt;]<code>。`true</code>, <code>false</code>, <code>on</code>, `off`等值都可以接受。参见<a href="git-config.html">git-config(1)</a>中 “示例” 的 “布尔” 子章节。如果一个布尔选项没有给出值，它就被启用。</p>
</div>
<div class="paragraph">
<p>如果你在占位符的'%<em>后面加了一个`+</em>（加号），当且仅当占位符扩展为一个非空字符串时，在扩展前会立即插入换行符。</p>
</div>
<div class="paragraph">
<p>如果你在占位符的'%<em>后面加了一个`-</em>（减号），如果且仅当占位符扩展为空字符串时，紧接着扩展前的所有连续换行将被删除。</p>
</div>
<div class="paragraph">
<p>如果你在占位符的'%'后面加了一个``（空格），当且仅当占位符扩展到一个非空字符串时，空格就会紧接着插入扩展。</p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>t格式:</em></p>
<div class="paragraph">
<p><em>tformat:</em> 格式的工作原理与 <em>format:</em> 完全一样，只是它提供了 “终止符” 语义，而不是 “分隔符” 语义。换句话说，每个提交都附加了信息结束符（通常是换行符），而不是在条目之间放置一个分隔符。 这意味着单行格式的最后一个条目将正确地以新行结束，就像 “单行” 格式那样。 比如说：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git log -2 --pretty=format:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973 -- NO NEWLINE

$ git log -2 --pretty=tformat:%h 4da45bef \
  | perl -pe '$_ .= " -- NO NEWLINE\n" unless /\n/'
4da45be
7134973</pre>
</div>
</div>
<div class="paragraph">
<p>此外，任何未被识别的字符串，如果其中有 <code>%</code> ，将被解释为前面有 <code>tformat:</code> 。 例如，这两个是等同的：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ git log -2 --pretty=tformat:%h 4da45bef
$ git log -2 --pretty=%h 4da45bef</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_原始输出格式">原始输出格式</h2>
<div class="sectionbody">
<div class="paragraph">
<p>"git-diff-index"，"git-diff-tree"，"git-diff-files" 和 "git diff --raw" 的原始输出格式非常相似。</p>
</div>
<div class="paragraph">
<p>这些命令都比较两组事物。但比较的内容有所不同：</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">git-diff-index &lt;目录树对象&gt;</dt>
<dd>
<p>比较 &lt;目录树对象&gt; 和文件系统上的文件。</p>
</dd>
<dt class="hdlist1">git-diff-index --cached &lt;目录树对象&gt;</dt>
<dd>
<p>比较 &lt;目录树对象&gt; 和索引。</p>
</dd>
<dt class="hdlist1">git-diff-tree [-r] &lt;目录树对象 1&gt; &lt;目录树对象 2&gt; [&lt;模式&gt;&#8230;&#8203;]</dt>
<dd>
<p>比较由两个参数传递的目录树。</p>
</dd>
<dt class="hdlist1">git-diff-files [&lt;模式&gt;&#8230;&#8203;]</dt>
<dd>
<p>比较索引和文件系统上的文件。</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>"git-diff-tree" 命令在最开始输出被比较对象的哈希值。之后，所有命令都会为每个更改的文件打印一个输出行。</p>
</div>
<div class="paragraph">
<p>输出行的格式如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>in-place edit  :100644 100644 bcd1234 0123456 M file0
copy-edit      :100644 100644 abcd123 1234567 C68 file1 file2
rename-edit    :100644 100644 abcd123 1234567 R86 file1 file3
create         :000000 100644 0000000 1234567 A file4
delete         :100644 000000 1234567 0000000 D file5
unmerged       :000000 000000 0000000 0000000 U file6</pre>
</div>
</div>
<div class="paragraph">
<p>含义如下，从左到右依次：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>冒号。</p>
</li>
<li>
<p>"src"（源文件）的模式；如果是新建或是未合并的，则为 000000。</p>
</li>
<li>
<p>空格。</p>
</li>
<li>
<p>"dst"(目标文件）的模式；如果被删除或未合并则为 000000。</p>
</li>
<li>
<p>空格。</p>
</li>
<li>
<p>"src"（源文件）的 sha1 值；如果为新建或未合并则为 0{40}。</p>
</li>
<li>
<p>空格。</p>
</li>
<li>
<p>sha1 表示 "dst"（目标文件）；0{40} 表示删除、未合并或 “工作目录树与索引不同步”。</p>
</li>
<li>
<p>空格。</p>
</li>
<li>
<p>状态，在可选值 "score" 之后。</p>
</li>
<li>
<p>当使用 <code>-z</code> 选项时为制表符或 NUL。</p>
</li>
<li>
<p>"src" 的路径</p>
</li>
<li>
<p>使用 <code>-z</code> 选项时为制表符或 NUL；仅当状态为 C 或 R 时存在。</p>
</li>
<li>
<p>"dst" 的路径；仅当状态为 C 或 R 时存在。</p>
</li>
<li>
<p>当使用 <code>-z</code> 选项时为 LF 或 NUL，用于终止记录。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>可能的状态字母为：</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A：文件新增部分</p>
</li>
<li>
<p>C：复制到一个新文件</p>
</li>
<li>
<p>D：文件删除部分</p>
</li>
<li>
<p>M：文件内容或文件模式修改</p>
</li>
<li>
<p>R：文件重命名</p>
</li>
<li>
<p>T：文件类型改变</p>
</li>
<li>
<p>U：文件未合并（你必须在提交之前完成合并）</p>
</li>
<li>
<p>X："unknown"（未知）更改类型（可能为错误，请报告）</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>状态字母 C 和 R 后面总是一个分数（表示移动或复制的源与目标之间的相似性百分比）。状态字母 M 后面可能有文件重写的分数（表示相异百分比）。</p>
</div>
<div class="paragraph">
<p>如果文件是文件系统上的新文件，并且与索引不同步，则 &lt;sha1&gt; 将显示为全0。</p>
</div>
<div class="paragraph">
<p>例如：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>:100644 100644 5be4a4a 0000000 M 文件.c</pre>
</div>
</div>
<div class="paragraph">
<p>如果没有 <code>-z</code> 选项，带 “不常见” 字符的路径名会被加上引号，正如配置变量 <code>core.quotePath</code> 所解释的那样（参见 <a href="git-config.html">git-config(1)</a>）。 使用 <code>-z</code> 选项，文件名将被逐字输出，并以 NUL 字节结束。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_合并的差异格式">合并的差异格式</h2>
<div class="sectionbody">
<div class="paragraph">
<p>"git-diff-tree"、"git-diff-files" 和 "git-diff --raw" 可以使用 <code>-c</code> 或 <code>--cc</code> 选项来生成差异输出，也可以用于合并提交。其输出与上面描述的格式有以下不同：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>每个父提交都有一个冒号</p>
</li>
<li>
<p>有更多的 "src" 文件模式和 "src" sha1</p>
</li>
<li>
<p>状态是每个父提交的状态字符的合并</p>
</li>
<li>
<p>无可选的分数（"score"）数字</p>
</li>
<li>
<p>以制表符分隔的文件路径名</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>对于 <code>-c</code> 和 <code>--cc</code> 选项，即使文件在历史中的任何一边被重命名，也只显示目标路径或最终路径。使用 <code>--combined-all-paths</code> 选项，则每个父提交中的路径名称会在合并提交中的路径名称后面显示。</p>
</div>
<div class="paragraph">
<p>以下为带 <code>-c</code> 和 <code>--cc</code> 选项且不带 <code>--combined-all-paths</code> 选项的示例：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       phooey.c</pre>
</div>
</div>
<div class="paragraph">
<p>以下为使用 <code>--combined-all-paths</code> 选项且使用 <code>-c</code> 或 <code>--cc</code> 选项的示例:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>::100644 100644 100644 fabadb8 cc95eb0 4866510 MM       desc.c  desc.c  desc.c
::100755 100755 100755 52b7a2d 6d1ac04 d2ac7d7 RM       foo.sh  bar.sh  bar.sh
::100644 100644 100644 e07d6c5 9042e82 ee91881 RR       fooey.c fuey.c  phooey.c</pre>
</div>
</div>
<div class="paragraph">
<p>请注意 <em>combined diff</em> 只列出了从所有父提交中修改过的文件。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="generate_patch_text_with_p">使用选项 <code>-p</code> 生成补丁文本</h2>
<div class="sectionbody">
<div class="paragraph">
<p>使用 <code>-p</code> 选项运行 <a href="git-diff.html">git-diff(1)</a>、<a href="git-log.html">git-log(1)</a>、<a href="git-show.html">git-show(1)</a>、<a href="git-diff-index.html">git-diff-index(1)</a>、<a href="git-diff-tree.html">git-diff-tree(1)</a> 或 <a href="git-diff-files.html">git-diff-files(1)</a> 会生成补丁文本。 你可以通过 <code>GIT_EXTERNAL_DIFF</code> 和 <code>GIT_DIFF_OPTS</code> 环境变量（参见 <a href="git.html">git(1)</a>），以及 <code>diff</code> 属性（参见 <a href="gitattributes.html">gitattributes(5)</a>）自定义补丁文本的创建。</p>
</div>
<div class="paragraph">
<p>-p 选项产生的内容与传统的差异格式略有不同：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>它前面有一个 <code>git diff</code> 头，如下所示：</p>
<div class="literalblock">
<div class="content">
<pre>diff --git a/file1 b/file2</pre>
</div>
</div>
<div class="paragraph">
<p><code>a/</code> 和 <code>b/</code> 的文件名相同，除非涉及到重命名/复制。特别地，即使是创建或删除，也 <em>不</em> 使用 <code>/dev/null</code> 来代替 <code>a/</code> 或 <code>b/</code> 文件名。</p>
</div>
<div class="paragraph">
<p>当涉及重命名/复制时，<code>file1</code> 和 <code>file2</code> 分别显示重命名/复制的源文件名和重命名/复制产生的文件名。</p>
</div>
</li>
<li>
<p>它的后面是一个或多个扩展头信息行：</p>
<div class="literalblock">
<div class="content">
<pre>old mode &lt;模式&gt;
new mode &lt;模式&gt;
deleted file mode &lt;模式&gt;
new file mode &lt;模式&gt;
copy from &lt;路径&gt;
copy to &lt;路径&gt;
rename from &lt;路径&gt;
rename to &lt;路径&gt;
similarity index &lt;数字&gt;
dissimilarity index &lt;数字&gt;
index &lt;哈希&gt;..&lt;哈希&gt; &lt;模式&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>文件模式被打印为6位八进制数字，包括文件类型和文件权限位。</p>
</div>
<div class="paragraph">
<p>扩展头信息中的路径名称不包括 <code>a/</code> 和 <code>b/</code> 前缀。</p>
</div>
<div class="paragraph">
<p>相似性指数是未改变的行占比，而不相似性指数是改变的行占比。它是四舍五入的整数，后有百分号。因此，100%的相似度指数指为两个文件相等，而 100% 的不相似度意味着入新文件中没有旧文件中的行。</p>
</div>
<div class="paragraph">
<p>索引行包括改变前和改变后的 blob 对象名称。如果文件模式没有变化，则包含 &lt;模式&gt;；否则，分别显示新旧模式。</p>
</div>
</li>
<li>
<p>含有 "不常见" 字符的路径名会被引用，这一点在配置变量` core.quotePath` 中有所解释（见 <a href="git-config.html">git-config(1)</a>）。</p>
</li>
<li>
<p>输出中所有的 <code>file1</code> 文件都是指提交前的文件，而所有的 <code>file2</code> 文件都是指提交后的文件。按顺序对每个文件进行修改是不正确的。例如，这个补丁将交换文件 a 和 b：</p>
<div class="literalblock">
<div class="content">
<pre>diff --git a/a b/b
rename from a
rename to b
diff --git a/b b/a
rename from b
rename to a</pre>
</div>
</div>
</li>
<li>
<p>块头提到了块头所适用的函数的名称。 参见 <a href="gitattributes.html">gitattributes(5)</a> 中的 “定义自定义 hunk-header”，以了解如何针对特定语言进行定制。</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_合并的差异格式_2">合并的差异格式</h2>
<div class="sectionbody">
<div class="paragraph">
<p>任何生成差异的命令都可以使用 <code>-c</code> 或 <code>--cc</code> 选项，在显示合并时产生一个 “合并差异”。当用 <a href="git-diff.html">git-diff(1)</a> 或 <a href="git-show.html">git-show(1)</a> 显示合并时，这默认格式。还需要注意的是，你可以给这些命令适当的 <code>--diff-merges</code> 选项来强制生成特定格式的差异。</p>
</div>
<div class="paragraph">
<p>"合并的差异" 的格式如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>diff --combined describe.c
index fabadb8,cc95eb0..4866510
--- a/describe.c
+++ b/describe.c
@@@ -98,20 -98,12 +98,20 @@@
        return (a_date &gt; b_date) ? -1 : (a_date == b_date) ? 0 : 1;
  }

- static void describe(char *arg)
 -static void describe(struct commit *cmit, int last_one)
++static void describe(char *arg, int last_one)
  {
 +      unsigned char sha1[20];
 +      struct commit *cmit;
        struct commit_list *list;
        static int initialized = 0;
        struct commit_name *n;

 +      if (get_sha1(arg, sha1) &lt; 0)
 +              usage(describe_usage);
 +      cmit = lookup_commit_reference(sha1);
 +      if (!cmit)
 +              usage(describe_usage);
 +
        if (!initialized) {
                initialized = 1;
                for_each_ref(get_name);</pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>它前面有 "git diff" 头，如下（当使用 <code>-c</code> 选项时）：</p>
<div class="literalblock">
<div class="content">
<pre>diff --combined file</pre>
</div>
</div>
<div class="paragraph">
<p>或如下（当使用 <code>--cc</code> 选项时）：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>diff --cc file</pre>
</div>
</div>
</li>
<li>
<p>它的后面是一个或多个扩展头信息行（本例显示的是与两个父提交的合并）：</p>
<div class="literalblock">
<div class="content">
<pre>index &lt;哈希&gt;,&lt;哈希&gt;..&lt;哈希&gt;
mode &lt;模式&gt;,&lt;模式&gt;..&lt;模式&gt;
new file mode &lt;模式&gt;
deleted file mode &lt;模式&gt;,&lt;模式&gt;</pre>
</div>
</div>
<div class="paragraph">
<p><code>mode&lt;模式&gt;，&lt;模式&gt;..&lt;模式&gt;</code> 行仅在 &lt;模式&gt; 中至少有一个与其余的不同时才会出现。包含有关检测到的内容移动的信息 (重命名和复制检测) 的扩展标头设计为使用两个 &lt;目录树对象&gt; 的 diff，不能用于组合的 diff 格式。</p>
</div>
</li>
<li>
<p>它的后面是两行源文件/目标文件的头信息：</p>
<div class="literalblock">
<div class="content">
<pre>--- a/file
+++ b/file</pre>
</div>
</div>
<div class="paragraph">
<p>与传统 ‘统一’ diff 格式的双行标题类似，<code>/dev/null</code> 用于表示已创建或已删除的文件。</p>
</div>
<div class="paragraph">
<p>但是，如果提供了 --combined-all-paths 选项，你就会得到一个 N+1 行的源文件/目标文件头，其中 N 是合并提交中的父提交数量：</p>
</div>
<div class="literalblock">
<div class="content">
<pre>--- a/file
--- a/file
--- a/file
+++ b/file</pre>
</div>
</div>
<div class="paragraph">
<p>如果重命名或复制检测处于活动状态，这种扩展格式可能很有用，可以让你在不同的父提交中看到文件的原始名称。</p>
</div>
</li>
<li>
<p>修改了文件块头信息的格式，以防止不小心将其送入 <code>patch -p1</code>。合并的差异格式是为审查合并提交的修改而创建的，并不是为了应用。这个变化类似于扩展的 "索引" 头信息的变化：</p>
<div class="literalblock">
<div class="content">
<pre>@@@ &lt;from-file-range&gt; &lt;from-file-range&gt; &lt;to-file-range&gt; @@@</pre>
</div>
</div>
<div class="paragraph">
<p>块中有（父提交数量+1）<code>@</code> 字符，用于合并的差异格式。</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>与传统的 "统一" 差异格式不同，这种格式显示两个文件 A 和 B 的列，其中有 <code>-</code>（减号&#8201;&#8212;&#8201;在 A 中出现，但在 B 中删除），<code>+</code>（加号&#8201;&#8212;&#8201;在 A 中缺少，但在 B 中增加），或 <code>" "</code>（空格&#8201;&#8212;&#8201;不变）前缀，这种格式比较两个或多个文件与一个文件 X，并显示 X 与其中每个文件的差异。文件中的每一个都有一列被前置在输出行中，以指出 X 的行与它的不同之处。</p>
</div>
<div class="paragraph">
<p>第 N 列中的 <code>-</code> 字符意味着该行出现在文件 N 中，但它没有出现在结果文件中。第 N 列中的 <code>+</code> 字符意味着该行出现在结果文件中，而文件 N 中没有该行（换句话说，从该父提交的角度来看，该行是被添加的）。</p>
</div>
<div class="paragraph">
<p>在上面的输出示例中，两个文件中的函数签名都被改变了（因此从文件 1 和文件 2 中都有表示删除的 <code>-</code>，而 <code>++</code> 表示被添加的一行没有出现在文件 1 或文件 2 中）。另外还有 8 行与文件 1 中的相同，但没有出现在文件 2 中（因此前缀为 <code>+</code>）。</p>
</div>
<div class="paragraph">
<p>当用 <code>git diff-tree -c</code> 显示时，它将合并提交的父提交文件与合并结果进行比较（即文件 1 &#8230;&#8203; 文件 N 是父提交文件）。当用 <code>git diff-files -c</code> 显示时，它将两个未解决的合并父提交文件与工作树文件进行比较（即文件 1 是阶段 2 ，又称 "我们的版本"，文件 2 是阶段 3，又称 "他们的版本"）。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_其他差异格式">其他差异格式</h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>--summary</code> 选项描述新添加、删除、重命名和复制的文件。<code>--stat</code> 选项将 diffstat(1) 图添加到输出中。这些选项可以与其他选项组合在一起，如 <code>-p</code> 选项可以提高可读性。</p>
</div>
<div class="paragraph">
<p>当显示一个涉及到重命名或复制的更改时，<code>--stat</code> 输出会将路径名的前缀和后缀结合在一起，会以较紧凑的方式显示。例如，将 <code>arch/i386/Makefile</code> 移动到 <code>arch/x86/Makefile</code>，同时修改了 4 行，就会显示出这样的变化：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>arch/{i386 =&gt; x86}/Makefile    |   4 +--</pre>
</div>
</div>
<div class="paragraph">
<p><code>--numstat</code> 选项提供了 diffstat(1) 的信息，但其是为了方便程序使用而设计的。<code>--numstat</code> 输出中的一个条目如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1       2       README
3       1       arch/{i386 =&gt; x86}/Makefile</pre>
</div>
</div>
<div class="paragraph">
<p>从左至右依次是：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加的行数；</p>
</li>
<li>
<p>制表符；</p>
</li>
<li>
<p>已删除行数;</p>
</li>
<li>
<p>制表符；</p>
</li>
<li>
<p>路径名（可能有重命名/复制信息）；</p>
</li>
<li>
<p>换行符。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>当 <code>-z</code> 输出选项生效时，输出的格式如下：</p>
</div>
<div class="listingblock">
<div class="content">
<pre>1       2       README NUL
3       1       NUL arch/i386/Makefile NUL arch/x86/Makefile NUL</pre>
</div>
</div>
<div class="paragraph">
<p>依次是：</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加的行数；</p>
</li>
<li>
<p>制表符；</p>
</li>
<li>
<p>已删除行数;</p>
</li>
<li>
<p>制表符；</p>
</li>
<li>
<p>NUL（仅在重命名/复制时存在）；</p>
</li>
<li>
<p>完整路径名；</p>
</li>
<li>
<p>NUL（仅在重命名/复制时存在）；</p>
</li>
<li>
<p>完整路径名（仅在重命名/复制时存在）；</p>
</li>
<li>
<p>一个 NUL 字符。</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>在重命名的情况下，完整路径前多出的 <code>NUL</code> 为了让读取输出的脚本能够判断，当前被读取的记录是单路径记录还是重命名/复制记录，而不需要提前读取。在读完增删行数后，读至 <code>NUL</code> 会得到路径名，但如果先读到 <code>NUL</code>，记录将显示两个路径。</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_git">GIT</h2>
<div class="sectionbody">
<div class="paragraph">
<p>属于 <a href="git.html">git(1)</a> 文档</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2024-03-31 10:42:46 +0200
</div>
</div>
</body>
</html>