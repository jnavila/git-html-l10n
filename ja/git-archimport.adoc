git-archimport(1)
=================

NAME
----
git-archimport - GNU ArchリポジトリをGitにインポートする


概要
--
[verse]
'git archimport' [-h] [-v] [-o] [-a] [-f] [-T] [-D <深さ>] [-t <一時ディレクトリ>]
	       <アーカイブ>/<ブランチ>[:<gitブランチ>]...

説明
--
一つ以上のGNU Archリポジトリからプロジェクトをインポートします。提供された<アーカイブ>/<ブランチ>パラメータで定義された名前空間内のブランチとリポジトリをたどります。マージ元のリモートブランチが見つからない場合は、通常のコミットとしてインポートします。見つかった場合は、可能な限りマージとしてマークします（以下の考察を参照）。

このスクリプトは、「初期インポート」または「タグ」タイプのArchコミットからインポートを開始できる主要なルートを提供することを期待しています。提供されたルート内の新しいブランチをたどり、インポートします。

一つのプロジェクトのみを扱うことを想定しています。異なるルートを持つブランチを見つけた場合、実行を拒否します。その場合、<アーカイブ>/<ブランチ>パラメータを編集して、インポートの範囲を明確に定義してください。

'git archimport'はArchリポジトリにアクセスするためにバックグラウンドで`tla`を広範囲に使用します。パスに最新バージョンの`tla`が利用可能であることを確認してください。`tla`は'git archimport'に渡すリポジトリについて知っていなければなりません。

初期インポートの場合、'git archimport'は空のディレクトリ内で実行されることを期待しています。Archを使用するプロジェクトの開発をフォローするには、初期インポートと同じパラメータで'git archimport'を再実行して、増分インポートを実行します。

'git archimport'はインポートするアーカイブのための適切なブランチ名を作成しようとしますが、Gitブランチ名を手動で指定することも可能です。そのためには、各<アーカイブ>/<ブランチ>パラメータの後にコロンで区切ってGitブランチ名を記述します。これにより、Archブランチ名を短縮し、Archの用語をGitの用語に変換できます。例えば、「PROJECT{litdd}devo{litdd}VERSION」ブランチを「master」にマッピングするなどです。

複数のArchブランチを一つのGitブランチに関連付けることは可能です。結果は、2番目のブランチが作成された後に最初のブランチにコミットが行われていない場合にのみ最も意味を持ちます。それでも、定期的に回転されていたArchリポジトリを変換するのに役立ちます。


マージ
---
Arch からのパッチマージデータは、Git でのマージを示すためにも使用されます。Git はパッチの追跡にはあまり関心がなく、ブランチがフォークしてから発生したすべてのコミットが取り込まれたときのみ、マージと見なします。その結果として、Git はブランチがどれだけ分岐したかを正確に把握できます。つまりインポート処理では、パッチの交換に関するメタデータの一部が失われることになります。

Arch からインポートしたブランチ同士をマージする場合でも、Git は適切なマージベースを見つけることができます。また、ブランチ間で順不同にやり取りされたパッチもうまく識別できる場合があります。

オプション
-----

-h::
	使用方法を表示します。

-v::
	詳細な出力を行います。

-T::
	多数のタグを作成します。Arch リポジトリのコミット名を反映して、すべてのコミットにタグを作成します。

-f::
	高速パッチセットインポート戦略を使用します。大規模なツリーでは大幅に高速化できますが、ディレクトリ名の変更やパーミッションの変更は処理できません。デフォルトの戦略は低速ですが安全です。

-o::
	以前のバージョンの 'git archimport' で使用された古い形式のブランチ名との互換性を保つためのオプションです。古い形式のブランチ名は category{litdd}branch でしたが、新しい形式のブランチ名は archive,category{litdd}branch{litdd}version です。いずれの場合も、コマンドラインで指定された名前は自動生成される名前よりも優先されます。

-D <深さ>::
	マージの祖先をたどり、マージ元のツリーをインポートします。パッチログが削減されている場合は、1 より大きい深さを指定してください。

-a::
	`http://mirrors.sourcecontrol.net` でアーカイブを自動登録しようとします。これは特に -D オプションと組み合わせると便利です。

-t <一時ディレクトリ>::
	デフォルトの一時ディレクトリを上書きします。


<アーカイブ>/<ブランチ>::
	`tla log` が理解できる形式の <アーカイブ>/<ブランチ> 識別子。


GIT
---
Part of the linkgit:git[1] suite
