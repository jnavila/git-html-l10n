git-imap-send(1)
================

НАЗВА
-----
git-imap-send - Надіслати колекцію патчів зі stdin до папки IMAP


СИНОПСИС
--------
[verse]
'git imap-send' [-v] [-q] [--[no-]curl] [(--folder|-f) <folder>]
'git imap-send' --list


ОПИС
----
Ця команда завантажує поштову скриньку, згенеровану за допомогою `git format-patch`, у папку чернеток IMAP. Це дозволяє надсилати патчі так само, як і інші електронні листи, якщо використовуються поштові клієнти, які не можуть безпосередньо читати файли поштових скриньок. Команда також працює з будь-якою загальною поштовою скринькою, в якій електронні листи мають поля `Від`, `Дата` та `Тема` у такому порядку.

Типове використання щось на кшталт:

------
$ git format-patch --signoff --stdout --attach origin | git imap-send
------


ОПЦІЇ
-----

-v::
--verbose::
	Будьте багатослівними.

-q::
--quiet::
	Будь тихий.

-f <folder>::
--folder=<folder>::
	Вкажіть папку, в якій мають зберігатися електронні листи. Наприклад: `--folder=[Gmail]/Чернетки` або `-f INBOX/Чернетки`.

--curl::
	Використовувати libcurl для зв'язку з IMAP-сервером, якщо не використовується тунелювання до нього. Ігнорується, якщо Git було зібрано без встановленого параметра USE_CURL_FOR_IMAP_SEND.

--no-curl::
	Зв'язуватися з IMAP-сервером за допомогою власних IMAP-підпрограм git замість libcurl. Ігнорується, якщо Git було зібрано з набором опцій NO_OPENSSL.

--list::
	Виконайте команду IMAP LIST, щоб вивести список усіх наявних папок.

КОНФІГУРАЦІЯ
------------

Щоб скористатися цим інструментом, для `imap.folder` та `imap.tunnel` або `imap.host` необхідно встановити відповідні значення.

include::includes/cmd-config-section-rest.adoc[]

include::config/imap.adoc[]

ОТРИМАННЯ СПИСКУ ДОСТУПНИХ ПАПОК
--------------------------------

Щоб надіслати електронного листа до певної папки, вам потрібно знати правильну назву потрібної папки у вашій поштовій скриньці. Такі назви, як «Небажана пошта», «Кошик» тощо, що відображаються різними поштовими клієнтами, не обов’язково мають бути фактичними назвами папок, що зберігаються на поштовому сервері вашого постачальника послуг електронної пошти.

Щоб отримати правильну назву папки для використання з `git imap-send`, ви можете виконати `git imap-send --list`. Це відобразить список дійсних назв папок. Приклад такого виводу під час запуску в обліковому записі Gmail:

.........................
* LIST (\HasNoChildren) "/" "ВХІДНІ"
* LIST (\HasChildren \Noselect) "/" "[Gmail]"
* LIST (\All \HasNoChildren) "/" "[Gmail]/Уся пошта"
* LIST (\Drafts \HasNoChildren) "/" "[Gmail]/Чернетки"
* LIST (\HasNoChildren \Important) "/" "[Gmail]/Важливо"
* LIST (\HasNoChildren \Sent) "/" "[Gmail]/Надісланий лист"
* LIST (\HasNoChildren \Junk) "/" "[Gmail]/Спам"
* LIST (\Flagged \HasNoChildren) "/" "[Gmail]/Позначено зірочкою"
* LIST (\HasNoChildren \Trash) "/" "[Gmail]/Сміття"
.........................

Тут ви можете помітити, що правильна назва папки «Небажана пошта» – `[Gmail]/Spam`, а папки «Кошик» – `[Gmail]/Trash`. Подібну логіку можна використовувати й для визначення інших папок.

ПРИКЛАДИ
--------
Використання тунельного режиму:

..........................
[imap]
    folder = "INBOX.Drafts"
    tunnel = "ssh -q -C user@example.com /usr/bin/imapd ./Maildir 2> /dev/null"
..........................

Використання прямого режиму:

.........................
[imap]
    folder = "INBOX.Drafts"
    host = imap://imap.example.com
    user = bob
    pass = p4ssw0rd
.........................

Використання прямого режиму з SSL:

.........................
[imap]
    folder = "INBOX.Drafts"
    host = imaps://imap.example.com
    user = bob
    pass = p4ssw0rd
    port = 123
    ; sslVerify = false
.........................


[NOTE]
Можливо, вам варто використовувати `sslVerify=false` під час усунення несправностей, якщо ви підозрюєте, що причина проблем із підключенням полягає в тому, що сертифікат, який ви використовуєте на приватному сервері `example.com`, який ви намагаєтеся налаштувати (або налаштували), може бути неправильно перевірений.

Використання інтерфейсу IMAP Gmail:

---------
[imap]
    folder = "[Gmail]/Чернетки"
    host = imaps://imap.gmail.com
    user = user@gmail.com
    port = 993
---------

Gmail не дозволяє використовувати ваш звичайний пароль для `git imap-send`. Якщо у вашому обліковому записі Gmail налаштовано багатофакторну автентифікацію, ви можете створити пароль для програми, який використовуватиметься з `git imap-send`. Щоб створити його, відвідайте https://security.google.com/settings/security/apppasswords. Або ж скористайтеся автентифікацією OAuth2.0, як описано нижче.

[NOTE]
Можливо, вам доведеться використовувати: `folder = "[Google Mail]/Drafts"`, якщо ви отримуєте помилку "Папка не існує". Ви також можете виконати `git imap-send --list`, щоб отримати список доступних папок.

[NOTE]
Якщо для вашого облікового запису Gmail налаштовано іншу мову, ніж англійська, назву папки «Чернетки» буде локалізовано.

Якщо ви хочете використовувати автентифікацію на основі OAuth2.0, ви можете вказати механізм `OAUTHBEARER` або `XOAUTH2` у своїй конфігурації. Це безпечніше, ніж використання паролів для окремих програм, а також не вимагає багатофакторної автентифікації. Під час використання цієї автентифікації вам доведеться використовувати токен доступу OAuth2.0 замість пароля.

---------
[imap]
    folder = "[Gmail]/Чернетки"
    host = imaps://imap.gmail.com
    user = user@gmail.com
    port = 993
    authmethod = OAUTHBEARER
---------

Використання інтерфейсу IMAP Outlook:

На відміну від Gmail, Outlook підтримує лише автентифікацію на основі OAuth2.0. Також він підтримує лише механізм `XOAUTH2`.

---------
[imap]
    folder = "Чернетки"
    host = imaps://outlook.office365.com
    user = user@outlook.com
    port = 993
    authmethod = XOAUTH2
---------

Як тільки коміти будуть готові до надсилання, виконайте таку команду:

  $ git format-patch --cover-letter -M --stdout origin/master | git imap-send

Просто переконайтеся, що ви вимкнули перенос рядків у поштовому клієнті (веб-інтерфейс Gmail переносить рядки в будь-якому випадку, тому вам потрібно використовувати справжній клієнт IMAP).

Якщо ви використовуєте автентифікацію OAuth2.0, для генерації токенів простіше використовувати помічники облікових даних. Помічники облікових даних, запропоновані в linkgit:git-send-email[1], також можна використовувати для `git imap-send`.

УВАГА
-----
Ви все ще несете відповідальність за те, щоб повідомлення електронної пошти, надіслане вашою поштовою програмою, відповідали стандартам вашого проєкту. Багато проєктів не люблять додавання патчів. Деякі поштові агенти трансформують патчі (наприклад, переносять рядки, надсилають їх як format=flowed) таким чином, що вони не спрацюють. Ви отримаєте гнівні висміювання, якщо не перевірите це.

Зокрема, Thunderbird відомий своїми проблемами. Користувачі Thunderbird
можуть відвідати цю веб-сторінку для отримання додаткової інформації:
https://kb.mozillazine.org/Plain_text_e-mail_-_Thunderbird#Completely_plain_email

ДИВ. ТАКОЖ
----------
linkgit:git-format-patch[1], linkgit:git-send-email[1], mbox(5)

GIT
---
Частина набору linkgit:git[1]
